{"version":3,"sources":["../RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","linkOptions","assetSources","elementLocale","redactorConfig","$textarea","redactor","linkOptionModals","init","settings","this","transforms","lang","redactorLang","direction","orientation","imageUpload","fileUpload","dragImageUpload","dragFileUpload","plugins","buttons","index","inArray","splice","unshift","lowestListButtonIndex","oldListButtons","i","length","callbacks","handleRedactorInit","mergeCallbacks","initRedactor","livePreview","on","proxy","core","destroy","callback1","callback2","apply","arguments","currentInstance","onInitRedactor","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","editor","toolbarFixed","scrollPageOnReady","$doc","trigger","$imageBtn","replaceRedactorButton","get","$fileBtn","button","addCallback","remove","$linkBtn","dropdownOptions","title","optionTitle","func","link","observe","element","in","out","unlink","attr","class","aria-disabled","addDropdown","onImageButtonClick","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","sources","criteria","locale","kind","onSelect","assets","transform","restore","asset","url","insert","node","code","sync","images","closeOtherModals","show","onFileButtonClick","assetLinkSelectionModal","text","label","onLinkOptionClick","key","elementType","elements","elementTypeHandle","replace","match","toLowerCase","onEditorFocus","box","addClass","onEditorBlur","removeClass","fullscreen","disable","cp","isOpen","placeholderKey","addAfter","$btn","jQuery"],"mappings":"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","file":"RichTextInput.js"}