{"version":3,"sources":["CraftSupportWidget.js"],"names":["$","Craft","CraftSupportWidget","Garnish","Base","extend","widgetId","envInfo","loading","$widget","$pane","$screens","$currentScreen","$nextScreen","screens","currentScreen","$helpBody","$feedbackBody","init","this","widgets","find","initScreen","SCREEN_HOME","$screen","getScreen","screen","filter","loadScreen","reinit","HomeScreen","SCREEN_HELP","HelpScreen","SCREEN_FEEDBACK","FeedbackScreen","gotoScreen","velocity","css","opacity","display","handleScreenAnimationComplete","position","left","top","width","height","outerHeight","complete","proxy","BaseScreen","widget","afterInit","noop","$options","children","addListener","handleOptionClick","ev","attr","currentTarget","BaseSearchScreen","$body","$formContainer","mode","bodyStartHeight","$searchResultsContainer","$searchResults","$searchForm","$searchParams","$searchSubmit","searchTimeout","showingResults","$supportForm","$supportMessage","$supportAttachment","$supportSubmit","$supportSpinner","$supportErrorList","$supportIframe","sendingSupportTicket","focus","$more","prepForSearch","handleSearchFormSubmit","val","preventDefault","handleBodyTextChange","text","MODE_SEARCH","clearSearchTimeout","setTimeout","html","params","getFormParams","name","hasOwnProperty","type","value","appendTo","removeClass","addClass","handleBodyKeydown","keyCode","ESC_KEY","RETURN_KEY","isCtrlKeyPressed","submit","handleSupportLinkClick","prepForSupport","clearTimeout","search","url","getSearchUrl","ajax","dataType","success","error","hideSearchResults","handleSearchSuccess","response","results","getSearchResults","length","startResultsHeight","max","Math","min","i","append","href","getSearchResultUrl","target","getSearchResultStatus","getSearchResultText","endResultsHeight","handleSupportFormSubmit","animate","remove","swapForms","MODE_SUPPORT","$out","$in","parseSupportResponse","errors","insertAfter","attribute","cp","displayNotice","t","query","title","encodeURIComponent","items","result","link","is_answered","body","html_url","state","jQuery"],"mappings":"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","file":"CraftSupportWidget.min.js"}