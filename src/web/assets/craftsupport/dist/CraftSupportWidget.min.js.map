{"version":3,"sources":["CraftSupportWidget.js"],"names":["$","Craft","CraftSupportWidget","Garnish","Base","extend","widgetId","envInfo","loading","$widget","$pane","$screens","$currentScreen","$nextScreen","screens","currentScreen","$helpBody","$feedbackBody","init","this","widgets","find","initScreen","SCREEN_HOME","$screen","getScreen","screen","filter","loadScreen","reinit","HomeScreen","SCREEN_HELP","HelpScreen","SCREEN_FEEDBACK","FeedbackScreen","gotoScreen","velocity","css","opacity","display","handleScreenAnimationComplete","position","left","top","width","height","outerHeight","complete","proxy","BaseScreen","widget","afterInit","noop","$options","children","addListener","handleOptionClick","ev","attr","currentTarget","BaseSearchScreen","$body","$formContainer","mode","bodyStartHeight","$searchResultsContainer","$searchResults","$searchForm","$searchParams","$searchSubmit","searchTimeout","showingResults","$supportForm","$supportMessage","$supportAttachment","$supportSubmit","$supportSpinner","$supportErrorList","$supportIframe","sendingSupportTicket","trigger","$more","prepForSearch","handleSearchFormSubmit","val","preventDefault","handleBodyTextChange","text","MODE_SEARCH","clearSearchTimeout","setTimeout","html","params","getFormParams","name","hasOwnProperty","type","value","appendTo","removeClass","addClass","handleBodyKeydown","keyCode","ESC_KEY","RETURN_KEY","isCtrlKeyPressed","handleSupportLinkClick","prepForSupport","clearTimeout","search","url","getSearchUrl","ajax","dataType","success","error","hideSearchResults","handleSearchSuccess","response","results","getSearchResults","length","startResultsHeight","max","Math","min","i","append","href","getSearchResultUrl","target","getSearchResultStatus","getSearchResultText","endResultsHeight","handleSupportFormSubmit","animate","remove","swapForms","MODE_SUPPORT","$out","$in","parseSupportResponse","errors","attribute","insertAfter","cp","displayNotice","t","query","title","encodeURIComponent","items","result","link","is_answered","body","html_url","state","jQuery"],"mappings":"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","file":"CraftSupportWidget.min.js"}