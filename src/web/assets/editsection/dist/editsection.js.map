{"version":3,"file":"editsection.js","mappings":"CAAA,SAAWA,GAGT,IAAIC,EAAYD,EAAE,UAAUE,SAAS,SAASA,WAC1CC,EAAiBF,EAClBC,SAAS,mBACTA,SAAS,gBACRE,EAA4BH,EAAUI,KAAK,8BAE/C,SAASC,IACPL,EAAUM,MAAK,SAAUC,IAK3B,SAAoBC,EAAOD,GAEzB,IAAIE,EAAeP,EAAeQ,GAAGH,GACrC,GAAIE,EAAaE,OAAQ,CACvB,IAAMC,EAAOH,EAAaI,SAASC,QAAQ,MACrCC,EAAUH,EAAKR,KAAK,iCAC1B,IAAKK,EAAaO,KAAK,eAAeC,GAWpC,OAVAL,EAAKM,SAAS,YACdH,EAAQI,KAAK,CACXC,SAAU,KACVC,SAAU,kBAEZN,EAAQE,GAAG,sBAAsB,SAACK,GAChCvB,EAAEuB,EAAMC,eAAeC,OACvBF,EAAMG,iBACNH,EAAMI,iBACR,IAGFd,EAAKe,YAAY,YACjBZ,EAAQa,WAAW,YACnBb,EAAQa,WAAW,YACnBb,EAAQc,IAAI,qBACd,CAGA,IAAIC,EAAYtB,EAAMP,SAAS,oBAAoBG,KAAK,aACpD2B,EAAWvB,EAAMP,SAAS,eAE1B6B,EAAUE,KAAK,WACjBD,EAASb,SAAS,YAAYd,KAAK,YAAYe,KAAK,WAAY,MAEhEY,EAASJ,YAAY,YAAYvB,KAAK,YAAYe,KAAK,WAAY,IAEvE,CAtCIc,CAAWlC,EAAEmC,MAAO3B,EACtB,GACF,CAsCAL,EAAee,GAAG,SAAUZ,GAC5BF,EAA0Bc,GAAG,SAAUZ,GAEvC8B,QAAQC,KAAKC,OAAM,WACjBhC,GACF,GACD,CAzDD,CAyDGiC","sources":["webpack:///./editsection.js"],"sourcesContent":["(function ($) {\n  /** global: Craft */\n  /** global: Garnish */\n  var $siteRows = $('#sites').children('tbody').children();\n  var $lightswitches = $siteRows\n    .children('th:nth-child(2)')\n    .children('.lightswitch');\n  var $singleHomepageCheckboxes = $siteRows.find('.single-homepage .checkbox');\n\n  function updateSites() {\n    $siteRows.each(function (i) {\n      updateSite($(this), i);\n    });\n  }\n\n  function updateSite($site, i) {\n    // Is it disabled?\n    var $lightswitch = $lightswitches.eq(i);\n    if ($lightswitch.length) {\n      const $tds = $lightswitch.parent().nextAll('td');\n      const $inputs = $tds.find('textarea, input, .lightswitch');\n      if (!$lightswitch.data('lightswitch').on) {\n        $tds.addClass('disabled');\n        $inputs.attr({\n          tabindex: '-1',\n          readonly: 'readonly',\n        });\n        $inputs.on('focus.preventFocus', (event) => {\n          $(event.currentTarget).blur();\n          event.preventDefault();\n          event.stopPropagation();\n        });\n        return;\n      }\n      $tds.removeClass('disabled');\n      $inputs.removeAttr('tabindex');\n      $inputs.removeAttr('readonly');\n      $inputs.off('focus.preventFocus');\n    }\n\n    // If it's a single, make sure the URI is enabled/disabled per the homepage checkbox\n    var $checkbox = $site.children('.single-homepage').find('.checkbox');\n    var $uriCell = $site.children('.single-uri');\n\n    if ($checkbox.prop('checked')) {\n      $uriCell.addClass('disabled').find('textarea').attr('tabindex', '-1');\n    } else {\n      $uriCell.removeClass('disabled').find('textarea').attr('tabindex', '0');\n    }\n  }\n\n  $lightswitches.on('change', updateSites);\n  $singleHomepageCheckboxes.on('change', updateSites);\n\n  Garnish.$doc.ready(function () {\n    updateSites();\n  });\n})(jQuery);\n"],"names":["$","$siteRows","children","$lightswitches","$singleHomepageCheckboxes","find","updateSites","each","i","$site","$lightswitch","eq","length","$tds","parent","nextAll","$inputs","data","on","addClass","attr","tabindex","readonly","event","currentTarget","blur","preventDefault","stopPropagation","removeClass","removeAttr","off","$checkbox","$uriCell","prop","updateSite","this","Garnish","$doc","ready","jQuery"],"sourceRoot":""}