{"version":3,"sources":["AssetImageEditor.js"],"names":["Craft","AssetImageEditor","Garnish","Modal","extend","$body","$footer","$imageTools","$buttons","$cancelBtn","$replaceBtn","$saveBtn","$editorContainer","$straighten","$croppingCanvas","$spinnerCanvas","canvas","image","viewport","focalPoint","grid","croppingCanvas","clipper","croppingRectangle","cropperHandles","cropperGrid","croppingShade","imageStraightenAngle","viewportRotation","originalWidth","originalHeight","imageVerticeCoords","zoomRatio","animationInProgress","currentView","assetId","cacheBust","draggingCropper","scalingCropper","draggingFocal","previousMouseX","previousMouseY","shiftKeyHeld","editorHeight","editorWidth","cropperState","scaleFactor","flipData","focalPointState","croppingConstraint","spinnerInterval","maxImageSize","lastLoadedDimensions","imageIsLoading","renderImage","renderCropper","init","settings","this","Date","now","setSettings","defaults","x","y","$container","$","appendTo","$bod","base","t","allowSavingAsNew","addListener","saveImage","bind","proxy","removeListener","$shade","getMaxImageSize","postActionRequest","browserViewportWidth","$doc","get","documentElement","clientWidth","browserViewportHeight","clientHeight","Math","max","window","devicePixelRatio","loadEditor","data","html","alert","$tabs","$viewsContainer","$views","innerHeight","innerWidth","_showSpinner","updateSizeAndPosition","fabric","StaticCanvas","width","height","enableRetinaScaling","requestAnimationFrame","renderAll","imageUrl","getActionUrl","size","Image","fromURL","imageObject","set","originX","originY","left","top","add","getHeight","getWidth","getScaledImageDimensions","_setFittedImageVerticeCoordinates","_repositionEditorElements","focalState","imageDimensions","offsetX","offsetY","focal","focalData","adjustedX","adjustedY","storeFocalPointState","_createFocalPoint","_createViewport","storeCropperState","_addControlListeners","_handleMouseMove","_handleMouseDown","_handleMouseUp","ev","_hideSpinner","first","trigger","_reloadImage","setSrc","css","min-width","min-height","addClass","removeClass","parent","previousEditorDimensions","setDimensions","currentScaledDimensions","getZoomToFitRatio","previouslyOccupiedArea","_getBoundingRectangle","_repositionCropper","getZoomToCoverRatio","_repositionImage","_repositionViewport","_repositionFocalPoint","_zoomImage","Rect","fill","globalCompositeOperation","sizeFactor","focalX","focalY","deltaX","deltaY","Group","Circle","radius","strokeWidth","stroke","toggleFocalPoint","remove","dimensions","state","currentWidth","ratio","hasOrientationChanged","min","round","rotateImage","flipImage","straighteningInput","SlideRuleInput","onStart","_showGrid","onChange","slider","straighten","onEnd","_hideGrid","_cleanupFocalPointAfterStraighten","keyCode","SHIFT_KEY","MenuBtn","onOptionSelect","option","setCroppingConstraint","enforceCroppingConstraint","menu","_handleTabClick","$tab","currentTarget","view","showView","filter","enableSlider","disableSlider","disableCropMode","enableCropMode","zoomFactor","degrees","parseInt","imageZoomRatio","newAngle","angle","scaledImageDimensions","viewportProperties","imageProperties","angleInRadians","PI","newDeltaX","cos","sin","newDeltaY","modifiedDeltaX","modifiedDeltaY","temp","animate","duration","animationDuration","onComplete","cleanAngle","parseFloat","_adjustFocalPointByAngle","_resetFocalPointPosition","axis","editorCenter","setValue","properties","scaleY","scaleX","previousAngle","allowDegreeFractions","value","_adjustEditorElementsOnStraighten","newCenterX","newCenterY","angleDelta","currentZoomRatio","adjustmentRatio","cropperCenterX","cropperCenterY","imageVertices","getImageVerticeCoords","rectangle","_getZoomRatioToFitRectangle","_isCenterInside","opacity","object","containingObject","newFocalX","newFocalY","adjustedFocalX","adjustedFocalY","containingVertices","vertex","rectangleVertices","_getRectangleVertices","verticeIndex","length","arePointsInsideRectangle","edge","_getEdgeCrossed","rectangleCenter","distanceFromVertexToEdge","abs","sqrt","pow","distanceFromCenterToEdge","$button","hasClass","append","postData","imageRotation","replace","cropData","zoom","find","end","error","onSave","hide","cp","runQueue","scaledWidth","scaledHeight","boundingBox","_getImageBoundingBox","scale","vertScale","horiScale","getCombinedZoomRatio","i","strokeOptions","gridWidth","gridHeight","xStep","yStep","push","Line","onFadeOut","destroy","show","removeAllListeners","callback","cropperData","_showCropper","_editorModeTransition","_hideCropper","targetZoom","inverseZoomFactor","imageOffsetX","imageOffsetY","context","document","getElementById","getContext","start","cW","cH","setInterval","rotation","save","clearRect","translate","rotate","beginPath","moveTo","lineTo","lineWidth","strokeStyle","restore","clearInterval","clipperData","_setupCropperLayer","_redrawCropperElements","backgroundColor","hoverCursor","selection","position","rectangleRatio","rectWidth","rectHeight","lineOptions","gridOptions","pathGroup","Path","previousImageArea","currentOffset","areaFactor","coordinateSet","a","b","c","d","_isMouseOver","move","handle","_cropperHandleHitTest","pageX","pageY","_handleFocalDrag","_handleCropperDrag","_handleCropperResize","_setMouseCursor","vertices","newX","newY","constraint","previousHeight","previousWidth","topDelta","leftDelta","change","match","cursor","parentOffset","offset","mouseX","mouseY","lb","rb","tb","bb","event","topLeft","topRight","bottomRight","zoomMode","topVerticalSegment","bottomVerticalSegment","rightHorizontalSegment","leftHorizontalSegment","verticalOffset","horizontalOffset","_debug","fabricObj","debugger","points","ab","_getVector","bc","scalarAbAb","_getScalarProduct","scalarBcBc","point","ap","bp","scalarAbAp","scalarBcBp","projectsOnAB","projectsOnBC","_getVectorMagnitude","vector","_getAngleBetweenVectors","acos","edgePoints","centerPoint","smallestDiff","edgeCrossed","edgeIndex","toCenter","edgeVector","toVertex","diff","box","proportion","noop"],"mappings":"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","file":"AssetImageEditor.min.js"}