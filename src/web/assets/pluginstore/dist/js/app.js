(function(t){function e(e){for(var i,o,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},a=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1171:function(t,e,n){},"13e2":function(t,e,n){},"1b4f":function(t,e,n){"use strict";var i=n("ebf0"),r=n.n(i);r.a},"1f21":function(t,e,n){"use strict";var i=n("13e2"),r=n.n(i);r.a},"299b":function(t,e,n){},"2c0a":function(t,e,n){"use strict";var i=n("801f"),r=n.n(i);r.a},3583:function(t,e,n){"use strict";var i=n("a39d"),r=n.n(i);r.a},"3a14":function(t,e,n){},4320:function(t,e,n){},"44d6":function(t,e,n){"use strict";var i=n("4cbc"),r=n.n(i);r.a},"498a":function(t,e,n){},"4cbc":function(t,e,n){},"4db5":function(t,e,n){"use strict";var i=n("804f"),r=n.n(i);r.a},"4ec3":function(t,e,n){"use strict";var i=n("de62"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("8e6e"),n("ac6a"),n("456d");var i=n("bd86"),r=(n("cadf"),n("551c"),n("f751"),n("097d"),n("8bbf")),a=n.n(r),o=n("f545"),s=n.n(o);function c(t){var e=2,n=parseFloat(t);return Math.round(n)===n&&(e=0),n<0?"-"+s.a.formatMoney(-1*n,"$",e):s.a.formatMoney(n,"$",e)}function l(t){return Craft.escapeHtml(t)}function u(t,e,n){return Craft.t(e,t,n)}function d(t){return Craft.formatDate(t)}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",.0f";return Craft.formatNumber(t,e)}var f=n("6389"),g=n.n(f),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container"},[t.featuredPlugins?t._l(t.featuredPlugins,function(e,i){return n("div",{key:i},[n("div",{staticClass:"flex items-baseline justify-between",class:{"mt-8":i>0}},[n("h2",[t._v(t._s(e.title))]),n("router-link",{staticClass:"right",attrs:{to:"/featured/"+e.id}},[t._v(t._s(t._f("t")("See all","app")))])],1),n("plugin-grid",{attrs:{plugins:t.getPluginsByIds(e.plugins.slice(0,e.limit))}})],1)}):t._e(),t.activeTrialPlugins.length>0?[n("h2",[t._v(t._s(t._f("t")("Active Trials","app")))]),n("plugin-grid",{attrs:{plugins:t.activeTrialPlugins,trialMode:!0}})]:t._e()],2)},m=[],b=(n("a481"),n("5880")),v=n.n(b),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.plugins&&t.plugins.length>0?n("div",{staticClass:"ps-grid-plugins"},t._l(t.plugins,function(e,i){return n("div",{key:i,staticClass:"ps-grid-box"},[n("plugin-card",{attrs:{plugin:e,trialMode:t.trialMode},on:{click:function(n){return t.showPlugin(e)}}})],1)}),0):t._e()])},O=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.plugin?n("div",{staticClass:"plugin-card relative tw-flex flex-no-wrap items-start py-6 border-b border-grey-light border-solid",on:{click:function(e){return t.$emit("click")}}},[n("div",{staticClass:"plugin-icon mr-4"},[t.plugin.iconUrl?n("img",{attrs:{src:t.plugin.iconUrl}}):n("img",{attrs:{src:t.defaultPluginSvg}})]),n("div",[n("div",{staticClass:"plugin-name"},[n("strong",[t._v(t._s(t.plugin.name))]),t.trialMode&&t.activeTrialPluginEdition&&t.plugin.editions.length>1?n("edition-badge",{attrs:{name:t.activeTrialPluginEdition.name}}):t._e()],1),n("div",{directives:[{name:"shave",rawName:"v-shave",value:{height:45},expression:"{ height: 45 }"}]},[t._v(t._s(t.plugin.shortDescription))]),n("p",{staticClass:"light"},[t.priceRange.min!==t.priceRange.max?[t.priceRange.min>0?[t._v("\n                    "+t._s(t._f("currency")(t.priceRange.min))+"\n                ")]:[t._v("\n                    "+t._s(t._f("t")("Free","app"))+"\n                ")],t._v("\n                -\n                "+t._s(t._f("currency")(t.priceRange.max))+"\n            ")]:[t.priceRange.min>0?[t._v("\n                    "+t._s(t._f("currency")(t.priceRange.min))+"\n                ")]:[t._v("\n                    "+t._s(t._f("t")("Free","app"))+"\n                ")]]],2),t.isPluginInstalled(t.plugin.handle)?n("div",{staticClass:"installed",attrs:{"data-icon":"check"}}):t._e()])]):t._e()},_=[],P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edition-badge",class:t.cssClass},[n("div",{staticClass:"edition-badge-name"},[t._v(t._s(t.name))])])},I=[],w=(n("9c86"),{props:["name","block","big"],computed:{cssClass:function(){var t={};return"undefined"!==typeof this.block&&(t["is-block"]=!0),"undefined"!==typeof this.big&&(t["is-big"]=!0),t}}}),j=w,D=(n("e67b"),n("2877")),S=Object(D["a"])(j,P,I,!1,null,"3b412982",null),E=S.exports;function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var x={props:["plugin","trialMode"],components:{EditionBadge:E},computed:k({},Object(b["mapState"])({defaultPluginSvg:function(t){return t.craft.defaultPluginSvg}}),{},Object(b["mapGetters"])({isPluginInstalled:"craft/isPluginInstalled",getActiveTrialPluginEdition:"cart/getActiveTrialPluginEdition"}),{activeTrialPluginEdition:function(){return this.getActiveTrialPluginEdition(this.plugin.handle)},priceRange:function(){for(var t=this.plugin.editions,e=null,n=null,i=0;i<t.length;i++){var r=t[i],a=0;r.price&&(a=parseInt(r.price)),null===e&&(e=a),null===n&&(n=a),a<e&&(e=a),a>n&&(n=a)}return{min:e,max:n}}})},N=x,T=(n("d63c"),Object(D["a"])(N,C,_,!1,null,"10ad492e",null)),L=T.exports,A={components:{PluginCard:L},props:["plugins","trialMode"],methods:{showPlugin:function(t){this.$router.push({path:"/"+t.handle})}}},z=A,U=Object(D["a"])(z,y,O,!1,null,null,null),B=U.exports;function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var G={components:{PluginGrid:B},computed:R({},Object(b["mapState"])({featuredPlugins:function(t){return t.pluginStore.featuredPlugins}}),{},Object(b["mapGetters"])({activeTrialPlugins:"cart/activeTrialPlugins",getPluginsByIds:"pluginStore/getPluginsByIds"})),mounted:function(){var t=this.$route.params.pluginHandle;if(t){this.$router.replace({path:"/"});var e=this.$store.getters["pluginStore/getPluginByHandle"](t);this.$root.pluginStoreDataLoaded?this.$root.showPlugin(e):this.$root.$on("allDataLoaded",function(){this.$root.showPlugin(e)}.bind(this))}}},F=G,Z=Object(D["a"])(F,h,m,!1,null,null,null),Y=Z.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.category?n("div",{staticClass:"ps-container"},[n("div",{staticClass:"ps-header"},[n("h1",[t._v(t._s(t.category.title))]),n("sort-plugins",{attrs:{sortingOptions:t.sortingOptions},on:{"update:sortingOptions":function(e){t.sortingOptions=e},"update:sorting-options":function(e){t.sortingOptions=e}}})],1),t.loading?[n("spinner",{staticClass:"mt-4"})]:[n("plugin-index",{attrs:{plugins:t.pluginsToRender}})]],2):t._e()},K=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("plugin-grid",{attrs:{plugins:t.plugins}})],1)},J=[],W={components:{PluginGrid:B},props:["plugins"]},X=W,q=Object(D["a"])(X,V,J,!1,null,null,null),tt=q.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("sort-menu-btn",{attrs:{attributes:t.sortMenuBtnAttributes,value:t.options},on:{"update:value":function(e){t.options=e}}})],1)},nt=[],it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"sortMenuBtn"},[n("div",{staticClass:"btn menubtn sortmenubtn",attrs:{"data-icon":t.value.direction}},[t._v(t._s(t.menuLabel))]),n("div",{staticClass:"menu"},[n("ul",{staticClass:"padded sort-attributes"},t._l(t.attributes,function(e,i){return n("li",{key:i},[n("a",{class:{sel:t.value.attribute==i},on:{click:function(e){return t.selectAttribute(i)}}},[t._v(t._s(e))])])}),0),n("hr"),n("ul",{staticClass:"padded sort-directions"},t._l(t.directions,function(e,i){return n("li",{key:i},[n("a",{class:{sel:t.value.direction==i},on:{click:function(e){return t.selectDirection(i)}}},[t._v(t._s(e))])])}),0)])])},rt=[],at={props:["attributes","value"],data:function(){return{defaultDirection:"asc",directions:{}}},computed:{menuLabel:function(){if(this.attributes)return this.attributes[this.value.attribute]}},methods:{selectAttribute:function(t){this.$emit("update:value",{attribute:t,direction:this.value.direction})},selectDirection:function(t){this.$emit("update:value",{attribute:this.value.attribute,direction:t})}},mounted:function(){var t=this;this.directions={asc:this.$options.filters.t("Ascending","app"),desc:this.$options.filters.t("Descending","app")},this.$nextTick(function(){t.value.direction||t.$emit("update:value",{attribute:t.value.attribute,direction:t.defaultDirection}),Craft.initUiElements(t.$refs.sortMenuBtn)})}},ot=at,st=Object(D["a"])(ot,it,rt,!1,null,null,null),ct=st.exports,lt={props:["sortingOptions"],components:{SortMenuBtn:ct},data:function(){return{selectedAttribute:null,selectedDirection:null,sortMenuBtnAttributes:null,options:{attribute:"activeInstalls",direction:"desc"}}},watch:{options:function(){this.$emit("update:sortingOptions",this.options)}},mounted:function(){this.sortMenuBtnAttributes={activeInstalls:this.$options.filters.t("Popularity","app"),lastUpdate:this.$options.filters.t("Last Update","app"),name:this.$options.filters.t("Name","app"),price:this.$options.filters.t("Price","app")}}},ut=lt,dt=Object(D["a"])(ut,et,nt,!1,null,null,null),pt=dt.exports,ft=(n("55dd"),{sortPlugins:function(t,e){if(!t)return[];var n=e.attribute,i=e.direction;function r(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function a(t,e){return t[n]>e[n]?-1:t[n]<e[n]?1:0}return"desc"===i?t.sort(a):t.sort(r),t}});function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var mt={components:{PluginIndex:tt,SortPlugins:pt},data:function(){return{category:null,loading:!0,plugins:[],sortingOptions:{attribute:"activeInstalls",direction:"desc"}}},computed:ht({},Object(b["mapGetters"])({getCategoryById:"pluginStore/getCategoryById",getPluginsByCategory:"pluginStore/getPluginsByCategory"}),{pluginsToRender:function(){return ft.sortPlugins(this.plugins,this.sortingOptions)}}),created:function(){var t=this.$route.params.id;this.category=this.getCategoryById(t),setTimeout(function(){this.plugins=this.getPluginsByCategory(t),this.loading=!1}.bind(this),1)}},bt=mt,vt=Object(D["a"])(bt,H,K,!1,null,null,null),yt=vt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container"},[n("h1",[t._v(t._s(t._f("t")("Upgrade Craft CMS","app")))]),n("hr"),n("cms-editions")],1)},Ct=[],_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cms-editions"},t._l(t.editions,function(t,e){return n("cms-edition",{key:e,attrs:{edition:t}})}),1)},Pt=[],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cms-editions-edition"},[n("div",{staticClass:"description"},[n("edition-badge",{attrs:{name:t.edition.name,block:"",big:""}}),n("p",{staticClass:"edition-description"},[t._v(t._s(t.editionDescription))]),n("div",{staticClass:"price"},[t.edition.price&&t.edition.price>0?[t._v("\n                "+t._s(t._f("currency")(t.edition.price))+"\n            ")]:[t._v("\n                "+t._s(t._f("t")("Free","app"))+"\n            ")]],2),t.edition.price&&t.edition.price>0?n("p",{staticClass:"-mt-8 py-6 text-grey-dark"},[t._v("\n            "+t._s(t._f("t")("Price includes 1 year of updates.","app"))),n("br"),t._v("\n            "+t._s(t._f("t")("{renewalPrice}/year per site for updates after that.","app",{renewalPrice:t.$options.filters.currency(t.edition.renewalPrice)}))+"\n        ")]):t._e(),n("ul",t._l(t.features,function(e,i){return n("li",{key:i},[n("icon",{attrs:{icon:"check"}}),t._v("\n                "+t._s(e.name)+"\n\n                "),e.description?n("info-hud",[t._v("\n                    "+t._s(e.description)+"\n                ")]):t._e()],1)}),0)],1),n("div",{staticClass:"cms-edition-actions"},[n("status-badge",{attrs:{edition:t.editionIndex}}),n("buy-btn",{attrs:{edition:t.editionIndex,"edition-handle":t.edition.handle}})],1)])},wt=[],jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-hud"},[n("v-popover",{attrs:{placement:"right"}},[n("icon",{attrs:{icon:"info-circle"}}),n("template",{slot:"popover"},[t._t("default")],2)],2)],1)},Dt=[],St=n("e37d");a.a.use(St["a"]),St["a"].options.autoHide=!1;var Et={},Mt=Et,kt=(n("694d"),Object(D["a"])(Mt,jt,Dt,!1,null,null,null)),xt=kt.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cms-edition-status-badge"},[t.CraftEdition==t.edition?[t.licensedEdition>=t.edition?[n("license-status",{attrs:{status:"installed",description:t._f("t")("Installed","app")}})]:[n("license-status",{attrs:{status:"installed",description:t._f("t")("Installed as a trial","app")}})]]:t.licensedEdition==t.edition?[n("license-status",{attrs:{status:"licensed",description:t._f("t")("Licensed","app")}})]:t._e()],2)},Tt=[],$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("btn",{class:"license-status "+t.status,attrs:{icon:"check",disabled:!0,block:"",large:"",outline:""}},[t._v("\n    "+t._s(t.description)+"\n")])},Lt=[],At={props:["status","description"]},zt=At,Ut=(n("7bdd"),Object(D["a"])(zt,$t,Lt,!1,null,"e4196302",null)),Bt=Ut.exports;function Qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Gt={props:["edition"],components:{LicenseStatus:Bt},computed:Rt({},Object(b["mapState"])({licensedEdition:function(t){return t.craft.licensedEdition},CraftEdition:function(t){return t.craft.CraftEdition}}))},Ft=Gt,Zt=Object(D["a"])(Ft,Nt,Tt,!1,null,null,null),Yt=Zt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.edition>t.licensedEdition?[t.isCmsEditionInCart(t.editionHandle)?[n("btn",{attrs:{block:"",large:"",submit:"",disabled:""}},[t._v(t._s(t._f("t")("Added to cart","app")))])]:[n("btn",{attrs:{kind:"primary",block:"",large:""},on:{click:function(e){return t.buyCraft(t.editionHandle)}}},[t._v(t._s(t._f("t")("Buy now","app")))])]]:t._e(),t.canTestEditions&&t.edition!=t.CraftEdition&&t.edition>t.licensedEdition?[n("btn",{attrs:{block:"",large:""},on:{click:function(e){return t.installCraft(t.editionHandle)}}},[t._v(t._s(t._f("t")("Try for free","app")))])]:t._e(),t.edition==t.licensedEdition&&t.edition!=t.CraftEdition?[n("btn",{attrs:{block:"",large:""},on:{click:function(e){return t.installCraft(t.editionHandle)}}},[t._v(t._s(t._f("t")("Reactivate","app")))])]:t._e(),t.loading?n("spinner"):t._e()],2)},Kt=[];function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Wt={props:["edition","edition-handle"],data:function(){return{loading:!1}},computed:Jt({},Object(b["mapState"])({licensedEdition:function(t){return t.craft.licensedEdition},canTestEditions:function(t){return t.craft.canTestEditions},CraftEdition:function(t){return t.craft.CraftEdition}}),{},Object(b["mapGetters"])({isCmsEditionInCart:"cart/isCmsEditionInCart"})),methods:Jt({},Object(b["mapActions"])({addToCart:"cart/addToCart",tryEdition:"craft/tryEdition",getCraftData:"craft/getCraftData"}),{buyCraft:function(t){var e=this;this.loading=!0;var n={type:"cms-edition",edition:t};this.addToCart([n]).then(function(){e.loading=!1,e.$root.openModal("cart")}).catch(function(){e.loading=!1})},installCraft:function(t){var e=this;this.loading=!0,this.tryEdition(t).then(function(){e.getCraftData().then(function(){e.loading=!1,e.$root.displayNotice("Craft CMS edition changed.")})}).catch(function(){e.loading=!1,e.$root.displayError("Couldn’t change Craft CMS edition.")})}})},Xt=Wt,qt=Object(D["a"])(Xt,Ht,Kt,!1,null,null,null),te=qt.exports;function ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ie={props:["edition"],components:{InfoHud:xt,StatusBadge:Yt,BuyBtn:te,EditionBadge:E},computed:ne({},Object(b["mapGetters"])({getCmsEditionFeatures:"craft/getCmsEditionFeatures"}),{editionDescription:function(){switch(this.edition.handle){case"solo":return this.$options.filters.t("For when you’re building a website for yourself or a friend.","app");case"pro":return this.$options.filters.t("For when you’re building something professionally for a client or team.","app");default:return null}},features:function(){return this.getCmsEditionFeatures(this.edition.handle)},editionIndex:function(){switch(this.edition.handle){case"solo":return this.$store.state.craft.CraftSolo;case"pro":return this.$store.state.craft.CraftPro;default:return null}}})},re=ie,ae=(n("c48d"),Object(D["a"])(re,It,wt,!1,null,null,null)),oe=ae.exports;function se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?se(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):se(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var le={components:{CmsEdition:oe},computed:ce({},Object(b["mapState"])({editions:function(t){return t.craft.editions}}))},ue=le,de=(n("2c0a"),Object(D["a"])(ue,_t,Pt,!1,null,null,null)),pe=de.exports,fe={components:{CmsEditions:pe}},ge=fe,he=Object(D["a"])(ge,Ot,Ct,!1,null,null,null),me=he.exports,be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container"},[n("div",{staticClass:"developer-card tw-flex border-b border-solid border-grey-light pb-6 items-center"},[n("div",{staticClass:"avatar inline-block overflow-hidden rounded-full bg-grey mr-6 no-line-height"},[!t.loading&&t.developer?[n("img",{attrs:{src:t.developer.photoUrl,width:"120",height:"120"}})]:t._e()],2),n("div",{staticClass:"flex-1"},[t.loading||!t.developer?[n("spinner",{staticClass:"mt-8"})]:[n("h1",[t._v(t._s(t.developer.developerName))]),n("ul",[n("li",[t._v(t._s(t.developer.location))])]),n("ul",[n("li",{staticClass:"mr-4 inline-block"},[n("btn",{attrs:{href:t.developer.developerUrl,block:""}},[t._v(t._s(t._f("t")("Website","app")))])],1)])]],2)]),n("plugin-index",{attrs:{plugins:t.plugins}})],1)},ve=[];function ye(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ye(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ye(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ce={data:function(){return{plugins:[],loading:!1}},components:{PluginIndex:tt},computed:Oe({},Object(b["mapState"])({developer:function(t){return t.pluginStore.developer}})),mounted:function(){var t=this,e=this.$route.params.id;this.loading=!0,this.plugins=this.$store.getters["pluginStore/getPluginsByDeveloperId"](e),this.$store.dispatch("pluginStore/getDeveloper",e).then(function(){t.$root.loading=!1,t.loading=!1}).catch(function(){t.$root.loading=!1,t.loading=!1})}},_e=Ce,Pe=(n("1f21"),Object(D["a"])(_e,be,ve,!1,null,"3ff3e74e",null)),Ie=Pe.exports,we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.featuredPlugin?n("div",{staticClass:"ps-container"},[n("h1",[t._v(t._s(t.featuredPlugin.title))]),n("plugin-grid",{attrs:{plugins:t.getPluginsByIds(t.featuredPlugin.plugins)}})],1):t._e()},je=[];function De(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?De(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):De(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ee={components:{PluginGrid:B},computed:Se({},Object(b["mapGetters"])({getFeaturedPlugin:"pluginStore/getFeaturedPlugin",getPluginsByIds:"pluginStore/getPluginsByIds"}),{featuredPlugin:function(){return this.getFeaturedPlugin(this.$route.params.id)}})},Me=Ee,ke=Object(D["a"])(Me,we,je,!1,null,null,null),xe=ke.exports,Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container buy-plugin"},[t.loading?n("status-message",{attrs:{message:t.statusMessage}}):t._e()],1)},Te=[],$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"status-message"},[n("div",[t.error?[n("icon",{attrs:{icon:"exclamation-triangle"}})]:[n("spinner",{attrs:{size:"lg"}})],n("div",{staticClass:"message"},[t._v(t._s(t.message))])],2)])},Le=[],Ae={props:["message","error"]},ze=Ae,Ue=(n("44d6"),Object(D["a"])(ze,$e,Le,!1,null,null,null)),Be=Ue.exports;function Qe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qe(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ge={data:function(){return{loading:!1,statusMessage:null}},components:{StatusMessage:Be},methods:{buyPlugin:function(t){var e=this;if(!this.isPluginBuyable(t))return this.loading=!1,void this.$router.push({path:"/"});if(this.isInCart(t))this.$router.push({path:"/"}),this.$root.openModal("cart");else{var n={type:"plugin-edition",plugin:t.handle,edition:t.editions[0].handle};this.$store.dispatch("cart/addToCart",[n]).then(function(){e.loading=!1,e.$router.push({path:"/"}),e.$root.openModal("cart")})}},isPluginBuyable:function(t){var e=t.editions[0].price;if(null===e)return!1;if(0===parseFloat(e))return!1;var n=this.getPluginLicenseInfo(t.handle);return!this.isPluginInstalled(t.handle)||!(!n||n&&n.licenseKey)}},computed:Re({},Object(b["mapGetters"])({isInCart:"cart/isInCart",isPluginInstalled:"craft/isPluginInstalled",getPluginLicenseInfo:"craft/getPluginLicenseInfo"})),mounted:function(){this.loading=!0,this.statusMessage=this.$options.filters.t("Loading Plugin Store…","app");var t=this.$route.params.handle,e=this.$store.getters["pluginStore/getPluginByHandle"](t);this.$root.pluginStoreDataLoaded&&this.$root.craftIdDataLoaded&&this.$root.cartDataLoaded?this.buyPlugin(e):this.$root.$on("allDataLoaded",function(){this.buyPlugin(e)}.bind(this))}},Fe=Ge,Ze=(n("eb95"),Object(D["a"])(Fe,Ne,Te,!1,null,null,null)),Ye=Ze.exports,He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Translations")]),n("p",[t._v(t._s(t._f("currency")(t.somePrice))+" per year for updates")]),n("p",[t._v(t._s(t._f("t")("{price} per year for updates","app",{price:t.$root.$options.filters.currency(t.somePrice)})))]),t._m(0),n("p",{domProps:{innerHTML:t._s(t.craftTranslation)}}),n("h2",[t._v("Modal")]),n("p",[n("a",{on:{click:function(e){return t.openModal()}}},[t._v("Open Garnish Modal")])]),n("div",{staticClass:"hidden"},[n("div",{ref:"garnishmodalcontent",staticClass:"modal"},[n("div",{staticClass:"body"},[t._v("\n                Hello World\n            ")])])])])},Ke=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("{{ \"Go to {link}\"|t('app', { link: '"),n("a",{attrs:{href:"#"}},[t._v("test")]),t._v("' }) }}")])}],Ve={data:function(){return{somePrice:"99.00",modal:null}},computed:{craftTranslation:function(){return Craft.t("app","Go to {link}",{link:'<a href="#">test</a>'})}},mounted:function(){this.modal=new Garnish.Modal(this.$refs.garnishmodalcontent,{autoShow:!1,resizable:!0})},methods:{openModal:function(){this.modal.show()}}},Je=Ve,We=Object(D["a"])(Je,He,Ke,!1,null,null,null),Xe=We.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("status-message",{attrs:{error:!0,message:t.message}})},tn=[],en={components:{StatusMessage:Be},computed:{message:function(){return this.$options.filters.t("Page not found.","app")}}},nn=en,rn=Object(D["a"])(nn,qe,tn,!1,null,null,null),an=rn.exports,on=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container"},[n("div",{staticClass:"ps-header"},[n("h1",[t._v(t._s(t._f("t")("Showing results for “{searchQuery}”","app",{searchQuery:t.searchQuery})))]),n("sort-plugins",{attrs:{sortingOptions:t.sortingOptions},on:{"update:sortingOptions":function(e){t.sortingOptions=e},"update:sorting-options":function(e){t.sortingOptions=e}}})],1),t.loading?[n("spinner")]:[n("plugin-grid",{attrs:{plugins:t.pluginsToRender}})]],2)},sn=[],cn=(n("386d"),n("7f7f"),n("8a30")),ln=n.n(cn),un=n("9380"),dn=n.n(un);function pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pn(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pn(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var gn={data:function(){return{loading:!0,searchResults:[],sortingOptions:{attribute:"activeInstalls",sort:"desc"}}},components:{PluginGrid:B,SortPlugins:pt},computed:fn({},Object(b["mapState"])({plugins:function(t){return t.pluginStore.plugins},searchQuery:function(t){return t.app.searchQuery}}),{pluginsToRender:function(){return ft.sortPlugins(this.searchResults,this.sortingOptions)}}),methods:{performSearch:function(){var t=this.searchQuery;return t?dn()(this.plugins,function(e){if(e.packageName&&ln()(e.packageName.toLowerCase(),t.toLowerCase()))return!0;if(e.name&&ln()(e.name.toLowerCase(),t.toLowerCase()))return!0;if(e.shortDescription&&ln()(e.shortDescription.toLowerCase(),t.toLowerCase()))return!0;if(e.description&&ln()(e.description.toLowerCase(),t.toLowerCase()))return!0;if(e.developerName&&ln()(e.developerName.toLowerCase(),t.toLowerCase()))return!0;if(e.developerUrl&&ln()(e.developerUrl.toLowerCase(),t.toLowerCase()))return!0;if(e.keywords.length>0)for(var n=0;n<e.keywords.length;n++)if(ln()(e.keywords[n].toLowerCase(),t.toLowerCase()))return!0}):[]},search:function(){this.loading=!0,setTimeout(function(){this.searchResults=this.performSearch(),this.loading=!1}.bind(this),1)}},watch:{searchQuery:function(){this.search()}},mounted:function(){this.searchQuery?this.search():this.$router.push({path:"/"})}},hn=gn,mn=Object(D["a"])(hn,on,sn,!1,null,null,null),bn=mn.exports,vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.pluginSnippet?n("div",{staticClass:"plugin-details ps-container"},[n("div",{staticClass:"plugin-details-header border-b border-solid border-grey-lighter tw-flex mb-6 pb-6 items-center"},[n("div",{staticClass:"plugin-icon"},[t.pluginSnippet.iconUrl?n("img",{attrs:{src:t.pluginSnippet.iconUrl,width:"100"}}):n("img",{attrs:{src:t.defaultPluginSvg,width:"100"}}),t.showLicenseKeyStatus?n("div",{staticClass:"license-key-status",class:{valid:t.isLicenseValid}}):t._e()]),n("div",{staticClass:"description flex-1"},[n("h2",[t._v(t._s(t.pluginSnippet.name))]),n("p",[t._v(t._s(t.pluginSnippet.shortDescription))]),n("p",[n("a",{on:{click:function(e){return t.viewDeveloper(t.pluginSnippet)}}},[t._v(t._s(t.pluginSnippet.developerName))])])]),t.actionsLoading?n("div",[n("spinner")],1):t._e()]),n("div",{staticClass:"plugin-details-body"},[t.loading?[n("spinner")]:[t.pluginLicenseInfo&&t.pluginLicenseInfo.licenseIssues.length>0?[n("ul",t._l(t.pluginLicenseInfo.licenseIssues,function(e,i){return n("li",{key:"license-issue"+i,staticClass:"error"},[t._v("\n                        "+t._s(t.licenseIssue(e))+"\n                    ")])}),0),n("hr")]:t._e(),t.plugin.screenshotUrls&&t.plugin.screenshotUrls.length?[n("plugin-screenshots",{attrs:{images:t.plugin.screenshotUrls}}),n("hr")]:t._e(),n("div",{staticClass:"lg:flex"},[n("div",{staticClass:"lg:flex-1 lg:pr-8 lg:mr-4"},[t.longDescription?n("div",{staticClass:"readable",domProps:{innerHTML:t._s(t.longDescription)}}):t.plugin.shortDescription?n("div",{staticClass:"readable",domProps:{innerHTML:t._s(t.plugin.shortDescription)}}):n("p",[t._v("No description.")])]),n("div",{staticClass:"lg:pl-8 lg:ml-4"},[n("ul",[t.plugin.documentationUrl?n("li",{staticClass:"py-1"},[n("a",{attrs:{href:t.plugin.documentationUrl,rel:"noopener",target:"_blank"}},[n("icon",{attrs:{icon:"book"}}),t._v(" "+t._s(t._f("t")("Documentation","app"))+"\n                            ")],1)]):t._e(),n("li",[n("a",{attrs:{href:t.plugin.repository}},[n("icon",{attrs:{icon:"link"}}),t._v(" Repository")],1)])])])]),n("hr"),n("div",{staticClass:"py-8"},[n("plugin-editions",{attrs:{plugin:t.plugin}})],1),n("hr"),n("div",{staticClass:"max-w-sm mx-auto p-8"},[n("h2",{staticClass:"mt-0"},[t._v(t._s(t._f("t")("Package Name","app")))]),n("p",[t._v(t._s(t._f("t")("Copy the package’s name for this plugin.","app")))]),n("copy-package",{attrs:{plugin:t.plugin}})],1),n("hr"),n("h2",{staticClass:"mb-4"},[t._v(t._s(t._f("t")("Information","app")))]),n("div",{staticClass:"plugin-infos"},[n("ul",{staticClass:"plugin-meta"},[n("li",[n("span",[t._v(t._s(t._f("t")("Version","app")))]),n("strong",[t._v(t._s(t.plugin.version))])]),n("li",[n("span",[t._v(t._s(t._f("t")("Last update","app")))]),n("strong",[t._v(t._s(t.lastUpdate))])]),t.plugin.activeInstalls>0?n("li",[n("span",[t._v(t._s(t._f("t")("Active installs","app")))]),n("strong",[t._v(t._s(t._f("formatNumber")(t.plugin.activeInstalls)))])]):t._e(),n("li",[n("span",[t._v(t._s(t._f("t")("Compatibility","app")))]),n("strong",[t._v(t._s(t.plugin.compatibility))])]),t.pluginCategories&&t.pluginCategories.length>0?n("li",[n("span",[t._v(t._s(t._f("t")("Categories","app")))]),n("div",t._l(t.pluginCategories,function(e,i){return n("div",{key:"plugin-category-"+i},[n("strong",[n("a",{on:{click:function(n){return t.viewCategory(e)}}},[t._v(t._s(e.title))])])])}),0)]):t._e(),n("li",[n("span",[t._v(t._s(t._f("t")("License","app")))]),n("strong",[t._v(t._s(t.licenseLabel))])])])]),n("p",[n("a",{attrs:{href:"mailto:issues@craftcms.com?subject="+encodeURIComponent("Issue with "+t.plugin.name)+"&body="+encodeURIComponent("I would like to report the following issue with "+t.plugin.name+" (https://plugins.craftcms.com/"+t.plugin.handle+"):\n\n")}},[n("icon",{staticClass:"mr-2",attrs:{icon:"exclamation-circle"}}),t._v(t._s(t._f("t")("Report an issue","app")))],1)]),n("hr"),n("plugin-changelog",{attrs:{pluginId:t.$root.pluginId}})]],2)]):t._e()},yn=[],On=(n("7514"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"screenshots"},t._l(t.images,function(e,i){return n("a",{key:i,staticClass:"screenshot",on:{click:function(e){return t.zoomImage(i)}}},[n("img",{attrs:{src:e}})])}),0)}),Cn=[],_n={props:["images"],methods:{zoomImage:function(t){this.$store.commit("app/updateScreenshotModalImages",this.images),this.$store.commit("app/updateShowingScreenshotModal",!0),this.$store.commit("app/updateScreenshotModalImageKey",t)}}},Pn=_n,In=(n("6337"),Object(D["a"])(Pn,On,Cn,!1,null,null,null)),wn=In.exports,jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugin-editions mb-4"},t._l(t.plugin.editions,function(e,i){return n("plugin-edition",{key:i,attrs:{plugin:t.plugin,edition:e}})}),1)},Dn=[],Sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugin-editions-edition"},[n("div",{staticClass:"description"},[t.plugin.editions.length>1?n("edition-badge",{attrs:{name:t.edition.name,block:"",big:""}}):t._e(),n("div",{staticClass:"price"},[t.isPluginEditionFree(t.edition)?[t._v("\n                "+t._s(t._f("t")("Free","app"))+"\n            ")]:[t.licensedEdition&&t.licensedEdition.handle!==t.edition.handle&&t.licensedEdition.price>0?[n("del",[t._v(t._s(t._f("currency")(t.edition.price)))]),t._v("\n                    "+t._s(t._f("currency")(t.edition.price-t.licensedEdition.price))+"\n                ")]:[t._v("\n                    "+t._s(t._f("currency")(t.edition.price))+"\n                ")]]],2),t.isPluginEditionFree(t.edition)?t._e():n("p",{staticClass:"-mt-8 py-6 text-grey-dark"},[t._v("\n            "+t._s(t._f("t")("Price includes 1 year of updates.","app"))),n("br"),t._v("\n            "+t._s(t._f("t")("{renewalPrice}/year per site for updates after that.","app",{renewalPrice:t.$options.filters.currency(t.edition.renewalPrice)}))+"\n        ")]),t.plugin.editions.length>1&&t.edition.features&&t.edition.features.length>0?n("ul",t._l(t.edition.features,function(e,i){return n("li",{key:i},[n("icon",{attrs:{icon:"check"}}),t._v("\n                "+t._s(e.name)+"\n\n                "),e.description?n("info-hud",[t._v("\n                    "+t._s(e.description)+"\n                ")]):t._e()],1)}),0):t._e()],1),n("plugin-actions",{attrs:{plugin:t.plugin,edition:t.edition}})],1)},En=[],Mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.plugin?n("div",{staticClass:"plugin-actions"},[t.isPluginEditionFree?t._e():[t.isInCart(t.plugin,t.edition)?[t.allowUpdates?n("btn",{attrs:{kind:"primary",icon:"check",block:"",large:"",outline:""},on:{click:function(e){return t.$root.openModal("cart")}}},[t._v(t._s(t._f("t")("Already in your cart","app")))]):t._e()]:[t.allowUpdates&&t.isEditionMoreExpensiveThanLicensed?n("btn",{attrs:{kind:"primary",loading:t.addToCartloading,disabled:t.addToCartloading,block:"",large:""},on:{click:function(e){return t.addEditionToCart(t.edition.handle)}}},[t._v(t._s(t._f("t")("Add to cart","app")))]):t.licensedEdition===t.edition.handle?n("btn",{attrs:{kind:"primary",block:"",large:"",disabled:""}},[t._v(t._s(t._f("t")("Licensed","app")))]):t._e()]],t.isPluginInstalled&&t.currentEdition===t.edition.handle?[t.currentEdition===t.licensedEdition||t.isPluginEditionFree?[n("btn",{attrs:{icon:"check",disabled:!0,block:"",large:""}},[t._v(" "+t._s(t._f("t")("Installed","app")))])]:[n("btn",{attrs:{icon:"check",disabled:!0,large:"",block:""}},[t._v(" "+t._s(t._f("t")("Installed as a trial","app")))])]]:[t.allowUpdates||t.isPluginInstalled?n("form",{attrs:{method:"post"},on:{submit:t.onSwitchOrInstallSubmit}},[n("input",{attrs:{type:"hidden",name:t.csrfTokenName},domProps:{value:t.csrfTokenValue}}),t.isPluginInstalled?[n("input",{attrs:{type:"hidden",name:"action",value:"plugins/switch-edition"}}),n("input",{attrs:{type:"hidden",name:"pluginHandle"},domProps:{value:t.plugin.handle}}),n("input",{attrs:{type:"hidden",name:"edition"},domProps:{value:t.edition.handle}})]:[n("input",{attrs:{type:"hidden",name:"action",value:"pluginstore/install"}}),n("input",{attrs:{type:"hidden",name:"packageName"},domProps:{value:t.plugin.packageName}}),n("input",{attrs:{type:"hidden",name:"handle"},domProps:{value:t.plugin.handle}}),n("input",{attrs:{type:"hidden",name:"edition"},domProps:{value:t.edition.handle}}),n("input",{attrs:{type:"hidden",name:"version"},domProps:{value:t.plugin.version}})],t.isPluginEditionFree?[n("btn",{attrs:{kind:"primary",type:"submit",loading:t.loading,block:"",large:""}},[t._v(t._s(t._f("t")("Install","app")))])]:[t.isEditionMoreExpensiveThanLicensed&&t.currentEdition===t.edition.handle||t.licensedEdition===t.edition.handle&&!t.currentEdition?[n("btn",{attrs:{type:"submit",loading:t.loading,block:"",large:""}},[t._v(t._s(t._f("t")("Install","app")))])]:t.isEditionMoreExpensiveThanLicensed&&t.currentEdition!==t.edition.handle?[n("btn",{attrs:{type:"submit",disabled:!(t.pluginLicenseInfo&&t.pluginLicenseInfo.isInstalled&&t.pluginLicenseInfo.isEnabled||!t.pluginLicenseInfo),loading:t.loading,block:"",large:""}},[t._v(t._s(t._f("t")("Try","app")))])]:t.currentEdition&&t.licensedEdition===t.edition.handle&&t.currentEdition!==t.edition.handle?[n("btn",{attrs:{type:"submit",loading:t.loading,block:"",large:""}},[t._v(t._s(t._f("t")("Reactivate","app")))])]:t._e()]],2):t._e()]],2):t._e()},kn=[];function xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xn(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xn(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Tn={props:["plugin","edition"],components:{LicenseStatus:Bt},data:function(){return{loading:!1,addToCartloading:!1}},computed:Nn({},Object(b["mapGetters"])({getPluginLicenseInfo:"craft/getPluginLicenseInfo",isInCart:"cart/isInCart"}),{pluginLicenseInfo:function(){return this.getPluginLicenseInfo(this.plugin.handle)},isPluginEditionFree:function(){return this.$store.getters["pluginStore/isPluginEditionFree"](this.edition)},isPluginInstalled:function(){return this.$store.getters["craft/isPluginInstalled"](this.plugin.handle)},isEditionMoreExpensiveThanLicensed:function(){if(!this.edition)return!1;if(this.pluginLicenseInfo){var t=this.licensedEdition,e=this.plugin.editions.find(function(e){return e.handle===t});if(e&&this.edition.price&&parseFloat(this.edition.price)<=parseFloat(e.price))return!1}return!0},licensedEdition:function(){return this.pluginLicenseInfo?this.pluginLicenseInfo.licensedEdition:null},currentEdition:function(){return this.pluginLicenseInfo?this.pluginLicenseInfo.edition:null},allowUpdates:function(){return window.allowUpdates},csrfTokenName:function(){return Craft.csrfTokenName},csrfTokenValue:function(){return Craft.csrfTokenValue}}),methods:{addEditionToCart:function(t){var e=this;this.addToCartloading=!0;var n={type:"plugin-edition",plugin:this.plugin.handle,edition:t};this.$store.dispatch("cart/addToCart",[n]).then(function(){e.addToCartloading=!1,e.$root.openModal("cart")}).catch(function(){e.addToCartloading=!1})},onSwitchOrInstallSubmit:function(t){var e=this;if(this.loading=!0,this.isPluginInstalled)return t.preventDefault(),this.$store.dispatch("craft/switchPluginEdition",{pluginHandle:this.plugin.handle,edition:this.edition.handle}).then(function(){e.loading=!1,e.$root.displayNotice("Plugin edition changed.")}),!1}}},$n=Tn,Ln=(n("4ec3"),Object(D["a"])($n,Mn,kn,!1,null,null,null)),An=Ln.exports;function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Bn={props:["plugin","edition"],components:{PluginActions:An,InfoHud:xt,EditionBadge:E},computed:Un({},Object(b["mapState"])({cart:function(t){return t.cart.cart}}),{},Object(b["mapGetters"])({isPluginEditionFree:"pluginStore/isPluginEditionFree",getPluginEdition:"pluginStore/getPluginEdition",getPluginLicenseInfo:"craft/getPluginLicenseInfo"}),{pluginLicenseInfo:function(){return this.plugin?this.getPluginLicenseInfo(this.plugin.handle):null},licensedEdition:function(){return this.pluginLicenseInfo?this.getPluginEdition(this.plugin.handle,this.pluginLicenseInfo.licensedEdition):null}})},Qn=Bn,Rn=(n("9c73"),Object(D["a"])(Qn,Sn,En,!1,null,null,null)),Gn=Rn.exports,Fn={props:["plugin"],components:{PluginEdition:Gn}},Zn=Fn,Yn=(n("88da"),Object(D["a"])(Zn,jn,Dn,!1,null,null,null)),Hn=Yn.exports,Kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugin-changelog",class:{collapsed:!t.showMore}},[n("h2",[t._v(t._s(t._f("t")("Changelog","app")))]),t.loading?[n("spinner",{staticClass:"mt-4"})]:[n("div",{staticClass:"releases"},[t._l(t.pluginChangelog,function(t,e){return[n("changelog-release",{key:e,attrs:{release:t}})]})],2),n("div",{staticClass:"more"},[!1===t.showMore?n("a",{staticClass:"c-btn",on:{click:function(e){e.preventDefault(),t.showMore=!0}}},[t._v(t._s(t._f("t")("More","app")))]):t._e(),!0===t.showMore?n("a",{staticClass:"c-btn",on:{click:function(e){e.preventDefault(),t.showMore=!1}}},[t._v(t._s(t._f("t")("Less","app")))]):t._e()])]],2)},Vn=[],Jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.release?n("div",{staticClass:"changelog-release"},[n("div",{staticClass:"version"},[n("a",{staticClass:"anchor",attrs:{href:"#"+t.release.version}},[n("icon",{attrs:{icon:"link"}})],1),n("h2",{attrs:{id:t.release.version}},[t._v(t._s(t._f("t")("Version {version}","app",{version:t.release.version})))]),n("div",{staticClass:"date"},[t._v(t._s(t.date))]),t.release.critical?n("div",{staticClass:"critical"},[t._v(t._s(t._f("t")("Critical","app")))]):t._e()]),n("div",{staticClass:"details readable",domProps:{innerHTML:t._s(t.release.notes)}})]):t._e()},Wn=[],Xn={props:["release"],computed:{date:function(){return Craft.formatDate(this.release.date)}}},qn=Xn,ti=(n("1b4f"),Object(D["a"])(qn,Jn,Wn,!1,null,null,null)),ei=ti.exports;function ni(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ni(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ni(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ri={props:["pluginId"],data:function(){return{showMore:!1,loading:!1}},components:{ChangelogRelease:ei},computed:ii({},Object(b["mapState"])({pluginChangelog:function(t){return t.pluginStore.pluginChangelog}})),mounted:function(){var t=this;this.loading=!0,this.$store.dispatch("pluginStore/getPluginChangelog",this.pluginId).then(function(){t.loading=!1})},destroyed:function(){this.$store.commit("pluginStore/updatePluginChangelog",null)}},ai=ri,oi=(n("c4cc"),Object(D["a"])(ai,Kn,Vn,!1,null,null,null)),si=oi.exports,ci=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"copy-package"},[n("textbox",{ref:"input",staticClass:"w-full",attrs:{value:t.plugin.packageName,readonly:"readonly"},on:{focus:t.select}}),n("btn",{on:{click:t.copy}},[n("icon",{attrs:{icon:"copy"}})],1)],1)},li=[],ui={props:["plugin"],methods:{select:function(){this.$refs.input.$refs.input.select()},copy:function(){this.select(),window.document.execCommand("copy")}}},di=ui,pi=(n("9111"),Object(D["a"])(di,ci,li,!1,null,null,null)),fi=pi.exports;function gi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gi(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gi(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var mi={components:{PluginScreenshots:wn,PluginEditions:Hn,PluginChangelog:si,CopyPackage:fi},data:function(){return{actionsLoading:!1,loading:!1,pluginSnippet:null}},computed:hi({},Object(b["mapState"])({categories:function(t){return t.pluginStore.categories},plugin:function(t){return t.pluginStore.plugin},plugins:function(t){return t.pluginStore.plugins},defaultPluginSvg:function(t){return t.craft.defaultPluginSvg},showingScreenshotModal:function(t){return t.app.showingScreenshotModal}}),{},Object(b["mapGetters"])({getPluginLicenseInfo:"craft/getPluginLicenseInfo",getPluginEdition:"pluginStore/getPluginEdition"}),{longDescription:function(){if(this.plugin.longDescription&&this.plugin.longDescription.length>0)return this.plugin.longDescription},developerUrl:function(){return Craft.getCpUrl("plugin-store/developer/"+this.plugin.developerId)},pluginCategories:function(){var t=this;return this.categories.filter(function(e){return t.plugin.categoryIds.find(function(t){return t==e.id})})},licenseLabel:function(){switch(this.plugin.license){case"craft":return"Craft";case"mit":return"MIT"}},lastUpdate:function(){var t=new Date(this.plugin.lastUpdate.replace(/\s/,"T"));return Craft.formatDate(t)},pluginLicenseInfo:function(){return this.plugin?this.getPluginLicenseInfo(this.plugin.handle):null},isLicenseValid:function(){return this.pluginLicenseInfo&&"valid"===this.pluginLicenseInfo.licenseKeyStatus&&0===this.pluginLicenseInfo.licenseIssues.length},showLicenseKeyStatus:function(){return!this.loading&&this.pluginLicenseInfo&&this.pluginLicenseInfo.isInstalled&&this.pluginLicenseInfo.licenseKey}}),watch:{pluginId:function(t){return this.loadPlugin(t),t}},methods:hi({},Object(b["mapActions"])({addToCart:"cart/addToCart"}),{viewDeveloper:function(t){this.$root.closeModal(),this.$router.push({path:"/developer/"+t.developerId})},viewCategory:function(t){this.$root.closeModal(),this.$router.push({path:"/categories/"+t.id})},loadPlugin:function(t){var e=this;this.pluginSnippet=this.$store.getters["pluginStore/getPluginById"](t),(!this.plugin||this.plugin&&this.plugin.id!==t)&&(this.loading=!0,this.$store.commit("pluginStore/updatePluginDetails",null),this.$store.dispatch("pluginStore/getPluginDetails",t).then(function(){e.loading=!1}).catch(function(){e.loading=!1}))},licenseIssue:function(t){switch(t){case"wrong_edition":var e=this.getPluginEdition(this.plugin.handle,this.pluginLicenseInfo.edition),n=this.getPluginEdition(this.plugin.handle,this.pluginLicenseInfo.licensedEdition);return this.$options.filters.t("Your are currently using the {currentEdition} edition, and your licensed edition is {licensedEdition}.","app",{currentEdition:e.name,licensedEdition:n.name});case"mismatched":return this.$options.filters.t("This license is tied to another Craft install. Purchase a license for this install.","app");default:return this.$options.filters.t("Your license key is invalid.","app")}}}),mounted:function(){var t=this.$route.params.handle,e=this.$store.getters["pluginStore/getPluginByHandle"](t);e?(this.$root.pluginId=e.id,this.loadPlugin(e.id)):this.$router.push({path:"/"})},beforeRouteLeave:function(t,e,n){this.showingScreenshotModal?this.$store.commit("app/updateShowingScreenshotModal",!1):n()}},bi=mi,vi=(n("7fbf"),Object(D["a"])(bi,vn,yn,!1,null,null,null)),yi=vi.exports;a.a.use(g.a);var Oi=new g.a({base:window.pluginStoreAppBaseUrl,mode:"history",scrollBehavior:function(){return{x:0,y:0}},routes:[{path:"/",name:"Index",component:Y},{path:"/categories/:id",name:"CategoriesId",component:yt},{path:"/upgrade-craft",name:"UpgradeCraft",component:me},{path:"/developer/:id",name:"DeveloperId",component:Ie},{path:"/featured/:id",name:"FeaturedId",component:xe},{path:"/buy/:handle",name:"BuyHandle",component:Ye},{path:"/search",name:"Search",component:bn},{path:"/tests",name:"Tests",component:Xe},{path:"/:handle",name:"PluginsHandle",component:yi},{path:"*",name:"NotFound",component:an}]}),Ci={searchQuery:"",showingScreenshotModal:!1,screenshotModalImages:null,screenshotModalImageKey:0},_i={},Pi={},Ii={updateSearchQuery:function(t,e){t.searchQuery=e},updateShowingScreenshotModal:function(t,e){t.showingScreenshotModal=e},updateScreenshotModalImages:function(t,e){t.screenshotModalImages=e},updateScreenshotModalImageKey:function(t,e){t.screenshotModalImageKey=e}},wi={namespaced:!0,state:Ci,getters:_i,actions:Pi,mutations:Ii},ji=n("6ee6"),Di=n("cebe"),Si=n.n(Di),Ei={createCart:function(t){return Si.a.post(Craft.getActionUrl("plugin-store/create-cart"),t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})},updateCart:function(t,e){return e.orderNumber=t,Si.a.post(Craft.getActionUrl("plugin-store/update-cart"),e,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})},resetOrderNumber:function(){localStorage.removeItem("orderNumber")},saveOrderNumber:function(t){localStorage.setItem("orderNumber",t)},getOrderNumber:function(t){var e=localStorage.getItem("orderNumber");return t(e)},getCart:function(t){var e={orderNumber:t};return Si.a.get(Craft.getActionUrl("plugin-store/get-cart",e))},checkout:function(t){return Si.a.post(Craft.getActionUrl("plugin-store/checkout"),t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})},savePluginLicenseKeys:function(t){return Si.a.post(Craft.getActionUrl("plugin-store/save-plugin-license-keys"),t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})}};function Mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mi(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mi(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}a.a.use(v.a);var xi={checkoutStatus:null,cart:null,stripePublicKey:null,identityMode:"craftid",selectedExpiryDates:{}},Ni={isInCart:function(t){return function(e,n){return!!t.cart&&t.cart.lineItems.find(function(t){return t.purchasable.pluginId===e.id&&(!n||t.purchasable.handle===n.handle)})}},isCmsEditionInCart:function(t){return function(e){return!!t.cart&&t.cart.lineItems.find(function(t){return"cms-edition"===t.purchasable.type&&t.purchasable.handle===e})}},activeTrialPlugins:function(t,e,n,i){return n.pluginStore.plugins.filter(function(t){var e=i["craft/getPluginLicenseInfo"](t.handle);if(!e)return!1;if(e.licenseKey&&e.edition===e.licensedEdition)return!1;if(e.edition){var n=i["pluginStore/getPluginEdition"](t.handle,e.edition);if(n&&i["pluginStore/isPluginEditionFree"](n))return!1}return!!i["craft/isPluginInstalled"](t.handle)})},activeTrialPluginEditions:function(t,e,n,i){var r=e.activeTrialPlugins,a={};return r.forEach(function(t){var e=i["craft/getPluginLicenseInfo"](t.handle),n=i["pluginStore/getPluginEdition"](t.handle,e.edition);a[t.handle]=n}),a},getActiveTrialPluginEdition:function(t,e){return function(t){var n=e.activeTrialPluginEditions;return n[t]?n[t]:null}},cartItems:function(t,e,n){var i=[];if(t.cart){var r=t.cart.lineItems;r.forEach(function(t){var e={};e.lineItem=t,"plugin-edition"===t.purchasable.type&&(e.plugin=n.pluginStore.plugins.find(function(e){return e.handle===t.purchasable.plugin.handle})),i.push(e)})}return i},cartItemsData:function(t){return Li.getCartItemsData(t.cart)}},Ti={updateItem:function(t,e){var n=t.commit,i=t.state,r=e.itemKey,a=e.item;return new Promise(function(t,e){var o=i.cart,s=Li.getCartItemsData(o);s[r]=a;var c={items:s};Ei.updateCart(o.number,c).then(function(e){n("updateCart",{response:e}),t(e)}).catch(function(t){e(t.response)})})},addToCart:function(t,e){var n=t.commit,i=t.state,r=t.rootGetters;return new Promise(function(t,a){var o=JSON.parse(JSON.stringify(i.cart)),s=Li.getCartItemsData(o);e.forEach(function(t){var e=s.find(function(e){return e.plugin===t.plugin});if(!e){var n=ki({},t);switch(n.expiryDate="1y",n.autoRenew=!1,n.type){case"plugin-edition":var i=r["craft/getPluginLicenseInfo"](n.plugin);if(i&&i.licenseKey&&"valid"===i.licenseKeyStatus){var a=!1;i.licenseIssues.length>0&&i.licenseIssues.forEach(function(t){"wrong_edition"!==t&&"astray"!==t&&(a=!0)}),a||(n.licenseKey=i.licenseKey)}n.cmsLicenseKey=window.cmsLicenseKey;break;case"cms-edition":n.licenseKey=window.cmsLicenseKey;break}s.push(n)}});var c={items:s};Ei.updateCart(o.number,c).then(function(e){return"undefined"!==typeof e.data.errors?a(e):(n("updateCart",{response:e}),t(e))}).catch(function(t){return a(t.response)})})},removeFromCart:function(t,e){var n=t.commit,i=t.state;return new Promise(function(t,r){var a=i.cart,o=Li.getCartItemsData(a);o.splice(e,1);var s={items:o};Ei.updateCart(a.number,s).then(function(e){n("updateCart",{response:e}),t(e)}).catch(function(t){r(t.response)})})},checkout:function(t,e){return Object(ji["a"])(t),new Promise(function(t,n){Ei.checkout(e).then(function(e){t(e)}).catch(function(t){n(t.response)})})},getCart:function(t){var e=t.dispatch,n=t.commit,i=t.rootState;return new Promise(function(t,r){e("getOrderNumber").then(function(a){if(a)Ei.getCart(a).then(function(a){if(a.data.error){var o={};i.craft.craftId||(o.email=i.craft.currentUser.email),Ei.createCart(o).then(function(i){n("updateCart",{response:i}),e("saveOrderNumber",{orderNumber:i.data.cart.number}),t(a)}).catch(function(t){r(t.response)})}else n("updateCart",{response:a}),t(a)}).catch(function(t){r(t.response)});else{var o={};i.craft.craftId||(o.email=i.craft.currentUser.email),Ei.createCart(o).then(function(i){n("updateCart",{response:i}),e("saveOrderNumber",{orderNumber:i.data.cart.number}),t(i)}).catch(function(t){r(t.response)})}})})},saveCart:function(t,e){var n=t.commit,i=t.state;return new Promise(function(t,r){var a=i.cart;Ei.updateCart(a.number,e).then(function(e){e.data.errors?r(e):(n("updateCart",{response:e}),t(e))}).catch(function(t){r(t.response)})})},resetCart:function(t){var e=t.commit,n=t.dispatch;return new Promise(function(t,i){e("resetCart"),n("resetOrderNumber"),n("getCart").then(function(e){t(e)}).catch(function(t){i(t.response)})})},getOrderNumber:function(t){var e=t.state;return new Promise(function(t,n){if(e.cart&&e.cart.number){var i=e.cart.number;t(i)}else Ei.getOrderNumber(function(e){t(e)},function(t){n(t)})})},resetOrderNumber:function(){Ei.resetOrderNumber()},saveOrderNumber:function(t,e){Object(ji["a"])(t);var n=e.orderNumber;Ei.saveOrderNumber(n)},savePluginLicenseKeys:function(t,e){var n=t.rootGetters;return new Promise(function(t,i){var r=[];e.lineItems.forEach(function(t){"plugin-edition"===t.purchasable.type&&n["craft/isPluginInstalled"](t.purchasable.plugin.handle)&&r.push({handle:t.purchasable.plugin.handle,key:t.options.licenseKey.substr(4)})});var a={pluginLicenseKeys:r};Ei.savePluginLicenseKeys(a).then(function(e){t(e)}).catch(function(t){i(t.response)})})}},$i={updateCart:function(t,e){var n=e.response;t.cart=n.data.cart,t.stripePublicKey=n.data.stripePublicKey;var i={};t.cart.lineItems.forEach(function(t,e){i[e]=t.options.expiryDate}),t.selectedExpiryDates=i},resetCart:function(t){t.cart=null},changeIdentityMode:function(t,e){t.identityMode=e},updateSelectedExpiryDates:function(t,e){t.selectedExpiryDates=e}},Li={getCartData:function(t){var e={email:t.email,billingAddress:{firstName:t.billingAddress.firstName,lastName:t.billingAddress.lastName},items:[]};return e.items=this.getCartItemsData(t),e},getCartItemsData:function(t){if(!t)return[];for(var e=[],n=0;n<t.lineItems.length;n++){var i=t.lineItems[n];switch(i.purchasable.type){case"plugin-edition":var r={type:i.purchasable.type,plugin:i.purchasable.plugin.handle,edition:i.purchasable.handle,cmsLicenseKey:window.cmsLicenseKey,expiryDate:i.options.expiryDate,autoRenew:i.options.autoRenew},a=i.options.licenseKey;a&&"new"!==a.substr(0,3)&&(r.licenseKey=a),e.push(r);break;case"cms-edition":var o={type:i.purchasable.type,edition:i.purchasable.handle,expiryDate:i.options.expiryDate,autoRenew:i.options.autoRenew},s=i.options.licenseKey;s&&"new"!==s.substr(0,3)&&(o.licenseKey=s),e.push(o);break}}return e}},Ai={namespaced:!0,state:xi,getters:Ni,actions:Ti,mutations:$i},zi={getDeveloper:function(t){return Si.a.get(Craft.getActionUrl("plugin-store/developer"),{params:{developerId:t},headers:{"X-CSRF-Token":Craft.csrfTokenValue}})},getPluginStoreData:function(){return Si.a.get(Craft.getActionUrl("plugin-store/plugin-store-data"),"",{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})},getPluginDetails:function(t){return Si.a.get(Craft.getActionUrl("plugin-store/plugin-details"),{params:{pluginId:t},headers:{"X-CSRF-Token":Craft.csrfTokenValue}})},getPluginChangelog:function(t){return Si.a.get(Craft.getActionUrl("plugin-store/plugin-changelog"),{params:{pluginId:t},headers:{"X-CSRF-Token":Craft.csrfTokenValue}})}},Ui={categories:[],developer:null,featuredPlugins:[],plugin:null,pluginChangelog:null,plugins:[],expiryDateOptions:[]},Bi={getFeaturedPlugin:function(t){return function(e){return t.featuredPlugins.find(function(t){return t.id==e})}},getCategoryById:function(t){return function(e){return t.categories.find(function(t){return t.id==e})}},getPluginById:function(t){return function(e){return t.plugins.find(function(t){return t.id==e})}},getPluginsByIds:function(t){return function(e){var n=[];return e.forEach(function(e){var i=t.plugins.find(function(t){return t.id===e});n.push(i)}),n}},getPluginsByCategory:function(t){return function(e){return t.plugins.filter(function(t){return t.categoryIds.find(function(t){return t==e})})}},getPluginsByDeveloperId:function(t){return function(e){return t.plugins.filter(function(t){return t.developerId==e})}},getPluginByHandle:function(t){return function(e){return t.plugins.find(function(t){return t.handle===e})}},getPluginEdition:function(t,e){return function(t,n){var i=e.getPluginByHandle(t);return!!i&&i.editions.find(function(t){return t.handle===n})}},isPluginEditionFree:function(){return function(t){return null===t.price}}},Qi={getDeveloper:function(t,e){var n=t.commit;return new Promise(function(t,i){zi.getDeveloper(e).then(function(e){n("updateDeveloper",{developer:e.data}),t(e)}).catch(function(t){i(t.response)})})},getPluginStoreData:function(t){var e=t.commit;return new Promise(function(t,n){zi.getPluginStoreData().then(function(n){e("updatePluginStoreData",{response:n}),t(n)}).catch(function(t){n(t.response)})})},getPluginDetails:function(t,e){var n=t.commit;return new Promise(function(t,i){zi.getPluginDetails(e).then(function(e){n("updatePluginDetails",e.data),t(e)}).catch(function(t){i(t.response)})})},getPluginChangelog:function(t,e){var n=t.commit;return new Promise(function(t,i){zi.getPluginChangelog(e).then(function(e){n("updatePluginChangelog",e.data),t(e)}).catch(function(t){i(t.response)})})}},Ri={updateDeveloper:function(t,e){var n=e.developer;t.developer=n},updatePluginStoreData:function(t,e){var n=e.response;t.categories=n.data.categories,t.featuredPlugins=n.data.featuredPlugins,t.plugins=n.data.plugins,t.expiryDateOptions=n.data.expiryDateOptions},updatePluginDetails:function(t,e){t.plugin=e},updatePluginChangelog:function(t,e){t.pluginChangelog=e}},Gi={namespaced:!0,state:Ui,getters:Bi,actions:Qi,mutations:Ri},Fi={getCraftData:function(){return Si.a.get(Craft.getActionUrl("plugin-store/craft-data"))},getPluginLicenseInfo:function(){return Si.a.get(Craft.getActionUrl("app/get-plugin-license-info"))},tryEdition:function(t){return Si.a.post(Craft.getActionUrl("app/try-edition"),"edition="+t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})},switchPluginEdition:function(t,e){var n="pluginHandle="+t+"&edition="+e;return Si.a.post(Craft.getActionUrl("plugins/switch-edition"),n,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})}},Zi={CraftEdition:null,CraftPro:null,CraftSolo:null,canTestEditions:null,countries:null,craftId:null,craftLogo:null,currentUser:null,editions:null,licensedEdition:null,poweredByStripe:null,defaultPluginSvg:null,pluginLicenseInfo:{}},Yi={isPluginInstalled:function(t){return function(e){return!!t.pluginLicenseInfo&&(!!t.pluginLicenseInfo[e]&&!!t.pluginLicenseInfo[e].isInstalled)}},getPluginLicenseInfo:function(t){return function(e){return t.pluginLicenseInfo&&t.pluginLicenseInfo[e]?t.pluginLicenseInfo[e]:null}},getCmsEditionFeatures:function(){return function(t){var e={solo:[{name:"Ultra-flexible content modeling",description:"Define custom content types, fields, and relations needed to perfectly contain your unique content requirements."},{name:"Powerful front-end tools",description:"Develop custom front-end templates with Twig, or use Craft as a headless CMS."},{name:"Multi-Site",description:"Run multiple related sites from a single installation, with shared content and user accounts."},{name:"Localization",description:"Cater to distinct audiences from around the world with Craft’s best-in-class localization capabilities."},{name:"Single admin account",description:"The Solo edition is limited to a single admin account."}],pro:[{name:"Unlimited user accounts",description:"Create unlimited user accounts, user groups, user permissions, and public user registration."},{name:"Enhanced content previewing",description:"Preview your content from multiple targets, including single-page applications."},{name:"GraphQL API",description:"Make your content available to other applications with a self-generating GraphQL API."},{name:"System branding",description:"Personalize the Control Panel for your brand."},{name:"Basic developer support",description:"Get developer-to-developer support right from the Craft core development team."}]};return e[t]?e[t]:null}}},Hi={getCraftData:function(t){var e=t.commit;return new Promise(function(t,n){Fi.getCraftData().then(function(n){e("updateCraftData",{response:n}),t(n)}).catch(function(t){n(t.response)})})},getPluginLicenseInfo:function(t){var e=t.commit;return new Promise(function(t,n){Fi.getPluginLicenseInfo().then(function(n){e("updatePluginLicenseInfo",{response:n}),t(n)}).catch(function(t){n(t.response)})})},updateCraftId:function(t,e){var n=t.commit;n("updateCraftId",e)},tryEdition:function(t,e){return Object(ji["a"])(t),new Promise(function(t,n){Fi.tryEdition(e).then(function(e){t(e)}).catch(function(t){n(t)})})},switchPluginEdition:function(t,e){var n=t.dispatch,i=e.pluginHandle,r=e.edition;return new Promise(function(t,e){Fi.switchPluginEdition(i,r).then(function(i){n("getPluginLicenseInfo").then(function(e){t({switchPluginEditionResponse:i,getPluginLicenseInfoResponse:e})}).catch(function(t){return e(t)})}).catch(function(t){return e(t)})})}},Ki={updateCraftData:function(t,e){var n=e.response;t.CraftEdition=n.data.CraftEdition,t.CraftPro=n.data.CraftPro,t.CraftSolo=n.data.CraftSolo,t.canTestEditions=n.data.canTestEditions,t.countries=n.data.countries,t.craftId=n.data.craftId,t.craftLogo=n.data.craftLogo,t.currentUser=n.data.currentUser,t.editions=n.data.editions,t.licensedEdition=n.data.licensedEdition,t.poweredByStripe=n.data.poweredByStripe,t.defaultPluginSvg=n.data.defaultPluginSvg},updatePluginLicenseInfo:function(t,e){var n=e.response;t.pluginLicenseInfo=n.data},updateCraftId:function(t,e){var n=e.craftId;t.craftId=n}},Vi={namespaced:!0,state:Zi,getters:Yi,actions:Hi,mutations:Ki};a.a.use(v.a);var Ji=new v.a.Store({strict:!0,modules:{app:wi,cart:Ai,pluginStore:Gi,craft:Vi}}),Wi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hidden"},[n("div",{ref:"pluginstoremodal",staticClass:"pluginstore-modal modal",class:"step-"+t.modalStep,attrs:{id:"pluginstore-modal"}},["cart"===t.modalStep?n("cart",{on:{"continue-shopping":function(e){return t.$root.closeModal()}}}):"identity"===t.modalStep?n("identity",{on:{back:function(e){return t.back()}}}):"payment"===t.modalStep?n("payment",{on:{back:function(e){return t.back()}}}):"thank-you"===t.modalStep?n("thank-you"):t._e()],1)])},Xi=[],qi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("div",{staticClass:"btn-left"},[n("a",{on:{click:function(e){return t.$emit("back")}}},[t._v(t._s(t._f("t")("Back","app")))])]),n("h1",[t._v(t._s(t._f("t")("Payment","app")))])]),n("template",{slot:"main"},[n("form",{staticClass:"payment",on:{submit:function(e){return e.preventDefault(),t.checkout()}}},[n("div",{staticClass:"blocks"},[n("div",{staticClass:"block"},[t.staticCartTotal>0?n("div",[n("h2",[t._v(t._s(t._f("t")("Payment Method","app")))]),t.craftId?[t.craftId.card?[n("radio",{attrs:{value:"existingCard",label:t.$options.filters.t("Use card {cardDetails}","app",{cardDetails:t.craftId.card.brand+" •••• •••• •••• "+t.craftId.card.last4+" — "+t.craftId.card.exp_month+"/"+t.craftId.card.exp_year})},model:{value:t.paymentMode,callback:function(e){t.paymentMode=e},expression:"paymentMode"}})]:t._e(),n("radio",{attrs:{value:"newCard",label:t.$options.filters.t("Use a new credit card","app")},model:{value:t.paymentMode,callback:function(e){t.paymentMode=e},expression:"paymentMode"}}),"newCard"===t.paymentMode?[t.cardToken?n("p",[t._v(t._s(t.cardToken.card.brand)+" •••• •••• •••• "+t._s(t.cardToken.card.last4)+" ("+t._s(t.cardToken.card.exp_month)+"/"+t._s(t.cardToken.card.exp_year)+") "),n("a",{staticClass:"delete icon",on:{click:function(e){t.cardToken=null}}})]):n("credit-card",{ref:"newCard"}),n("checkbox",{attrs:{id:"replaceCard",label:t._f("t")("Save as my new credit card","app")},model:{value:t.replaceCard,callback:function(e){t.replaceCard=e},expression:"replaceCard"}})]:t._e()]:[n("credit-card",{ref:"guestCard"})]],2):t._e(),n("h2",[t._v(t._s(t._f("t")("Coupon Code","app")))]),n("textbox",{attrs:{placeholder:"XXXXXXX",id:"coupon-code",size:"12",errors:t.couponCodeError},on:{input:t.couponCodeChange},model:{value:t.couponCode,callback:function(e){t.couponCode=e},expression:"couponCode"}}),t.couponCodeLoading?n("spinner",{staticClass:"mt-2"}):t._e()],1),n("div",{staticClass:"block"},[n("h2",[t._v(t._s(t._f("t")("Billing","app")))]),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow"},[n("textbox",{attrs:{placeholder:t._f("t")("First Name","app"),id:"first-name",errors:t.errors["billingAddress.firstName"]},model:{value:t.billingInfo.firstName,callback:function(e){t.$set(t.billingInfo,"firstName",e)},expression:"billingInfo.firstName"}})],1),n("div",{staticClass:"flex-grow"},[n("textbox",{attrs:{placeholder:t._f("t")("Last Name","app"),id:"last-name",errors:t.errors["billingAddress.lastName"]},model:{value:t.billingInfo.lastName,callback:function(e){t.$set(t.billingInfo,"lastName",e)},expression:"billingInfo.lastName"}})],1)]),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow"},[n("textbox",{attrs:{placeholder:t._f("t")("Business Name","app"),id:"business-name",errors:t.errors["billingAddress.businessName"]},model:{value:t.billingInfo.businessName,callback:function(e){t.$set(t.billingInfo,"businessName",e)},expression:"billingInfo.businessName"}})],1),n("div",{staticClass:"flex-grow"},[n("textbox",{attrs:{placeholder:t._f("t")("Business Tax ID","app"),id:"business-tax-id",errors:t.errors["billingAddress.businessTaxId"]},model:{value:t.billingInfo.businessTaxId,callback:function(e){t.$set(t.billingInfo,"businessTaxId",e)},expression:"billingInfo.businessTaxId"}})],1)]),n("textbox",{attrs:{placeholder:t._f("t")("Address Line 1","app"),id:"address-1",errors:t.errors["billingAddress.address1"]},model:{value:t.billingInfo.address1,callback:function(e){t.$set(t.billingInfo,"address1",e)},expression:"billingInfo.address1"}}),n("textbox",{attrs:{placeholder:t._f("t")("Address Line 2","app"),id:"address-2",errors:t.errors["billingAddress.address2"]},model:{value:t.billingInfo.address2,callback:function(e){t.$set(t.billingInfo,"address2",e)},expression:"billingInfo.address2"}}),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow"},[n("textbox",{class:{error:t.errors["billingAddress.city"]},attrs:{placeholder:t._f("t")("City","app"),id:"city"},model:{value:t.billingInfo.city,callback:function(e){t.$set(t.billingInfo,"city",e)},expression:"billingInfo.city"}})],1),n("div",{staticClass:"flex-grow"},[n("textbox",{class:{error:t.errors["billingAddress.zipCode"]},attrs:{placeholder:t._f("t")("Zip Code","app"),id:"zip-code"},model:{value:t.billingInfo.zipCode,callback:function(e){t.$set(t.billingInfo,"zipCode",e)},expression:"billingInfo.zipCode"}})],1)]),n("div",{staticClass:"flex items-start"},[n("div",{staticClass:"flex-grow"},[n("dropdown",{attrs:{options:t.countryOptions,errors:t.errors["billingAddress.country"]},on:{input:t.onCountryChange},model:{value:t.billingInfo.country,callback:function(e){t.$set(t.billingInfo,"country",e)},expression:"billingInfo.country"}})],1),n("div",{staticClass:"flex-grow"},[n("dropdown",{attrs:{options:t.stateOptions,errors:t.errors["billingAddress.state"]},model:{value:t.billingInfo.state,callback:function(e){t.$set(t.billingInfo,"state",e)},expression:"billingInfo.state"}})],1)])],1)]),n("hr"),n("div",{staticClass:"centeralign"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),n("div",{staticClass:"mb-4"},[n("btn",{attrs:{kind:"primary",type:"submit",loading:t.loading,disabled:t.loading}},[t._v(t._s(t._f("t")("Pay {price}","app",{price:t.$options.filters.currency(t.staticCartTotal)})))])],1),n("p",[n("img",{attrs:{src:t.poweredByStripe,width:"80"}})])])])])],2)},tr=[],er=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pluginstore-modal-flex"},[t.$slots["body"]?[t._t("body")]:[t.$slots["header"]?n("header",{staticClass:"header"},[t._t("header")],2):t._e(),n("div",{staticClass:"pluginstore-modal-main"},[n("div",{staticClass:"pluginstore-modal-content"},[t._t("main")],2)])]],2)},nr=[],ir={},rr=Object(D["a"])(ir,er,nr,!1,null,null,null),ar=rr.exports,or=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"field"},[n("cleave",{staticClass:"fullwidth",class:{error:t.errors.number},attrs:{type:"tel",id:"cc-number",autocomplete:"off",placeholder:t._f("t")("Card number","app"),options:{creditCard:!0}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),n("div",{staticClass:"field"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow"},[n("cleave",{staticClass:"w-full",class:{error:t.errors.exp},attrs:{type:"tel",id:"cc-exp",autocomplete:"off",placeholder:t._f("t")("MM / YY","app"),options:{date:!0,datePattern:["m","y"]}},model:{value:t.exp,callback:function(e){t.exp=e},expression:"exp"}})],1),n("div",{staticClass:"flex-grow"},[n("cleave",{staticClass:"w-full",class:{error:t.errors.cvc},attrs:{id:"cc-cvc",autocomplete:"off",placeholder:t._f("t")("CVC","app"),options:{numericOnly:!0,blocks:[4]}},model:{value:t.cvc,callback:function(e){t.cvc=e},expression:"cvc"}})],1)])])])},sr=[],cr=(n("28a5"),n("9a8f"));function lr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lr(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lr(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var dr={components:{Cleave:cr["a"]},data:function(){return{number:"",exp:"",cvc:"",errors:{number:!1,exp:!1,cvc:!1}}},computed:ur({},Object(b["mapState"])({stripePublicKey:function(t){return t.cart.stripePublicKey}}),{expMonth:function(){var t=this.exp.split("/");return t[0]},expYear:function(){var t=this.exp.split("/");return t[1]}}),methods:{save:function(t,e){this.validates()?(Stripe.setPublishableKey(this.stripePublicKey),Stripe.source.create({type:"card",card:{number:this.number,exp_month:this.expMonth,exp_year:this.expYear,cvc:this.cvc}},function(n,i){i.error?e(i):t(i)})):e()},validates:function(){var t=!1;return this.errors.number=!1,this.errors.exp=!1,this.errors.cvc=!1,this.number||(this.errors.number=!0,t=!0),this.exp||(this.errors.exp=!0,t=!0),this.cvc||(this.errors.cvc=!0,t=!0),!t}}},pr=dr,fr=Object(D["a"])(pr,or,sr,!1,null,null,null),gr=fr.exports;function hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hr(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hr(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var br={components:{Step:ar,CreditCard:gr},data:function(){return{error:!1,loading:!1,paymentMode:"newCard",cardToken:null,guestCardToken:null,replaceCard:!1,couponCode:"",couponCodeLoading:!1,couponCodeSuccess:!1,couponCodeError:!1,couponCodeTimeout:!1,billingInfo:{firstName:"",lastName:"",businessName:"",businessTaxId:"",address1:"",address2:"",country:"",state:"",city:"",zipCode:""},billingInfoErrors:{businessTaxId:!1},errors:{},stateOptions:[],staticCartTotal:0}},computed:mr({},Object(b["mapState"])({cart:function(t){return t.cart.cart},poweredByStripe:function(t){return t.craft.poweredByStripe},craftId:function(t){return t.craft.craftId},countries:function(t){return t.craft.countries},states:function(t){return t.craft.states}}),{countryOptions:function(){var t=[];for(var e in this.countries)this.countries.hasOwnProperty(e)&&t.push({label:this.countries[e].name,value:e});return t},billingCountryName:function(){var t=this.billingInfo.country;if(t&&this.countries[t])return this.countries[t].name}}),methods:{savePaymentMethod:function(t,e){var n=this;this.cart.totalPrice>0?this.craftId?"newCard"===this.paymentMode?this.cardToken?t():this.$refs.newCard.save(function(e){n.cardToken=e,t()},function(){e()}):t():this.$refs.guestCard.save(function(e){n.guestCardToken=e,t()},function(){e()}):t()},saveBillingInfo:function(t,e){var n={billingAddress:{firstName:this.billingInfo.firstName,lastName:this.billingInfo.lastName,businessName:this.billingInfo.businessName,businessTaxId:this.billingInfo.businessTaxId,address1:this.billingInfo.address1,address2:this.billingInfo.address2,country:this.billingInfo.country,state:this.billingInfo.state,city:this.billingInfo.city,zipCode:this.billingInfo.zipCode}};this.$store.dispatch("cart/saveCart",n).then(function(e){t(e)}).catch(function(t){e(t)})},checkout:function(){var t=this;this.errors={},this.loading=!0,this.savePaymentMethod(function(){t.saveBillingInfo(function(){var e=null;if(t.cart.totalPrice>0)if(t.craftId)switch(t.paymentMode){case"newCard":e=t.cardToken.id;break;default:e=t.craftId.cardToken}else e=t.guestCardToken.id;var n={orderNumber:t.cart.number,token:e,expectedPrice:t.cart.totalPrice,makePrimary:t.replaceCard};t.$store.dispatch("cart/checkout",n).then(function(){t.$store.dispatch("cart/savePluginLicenseKeys",t.cart).then(function(){t.$store.dispatch("craft/getCraftData").then(function(){t.$store.dispatch("craft/getPluginLicenseInfo").then(function(){t.$store.dispatch("cart/resetCart").then(function(){t.loading=!1,t.error=!1,t.$root.modalStep="thank-you"})})})})}).catch(function(e){t.loading=!1,t.error=e.data.error||e.statusText})},function(e){e.data.errors&&e.data.errors.forEach(function(e){t.errors[e.param]=[e.message]}),t.loading=!1,t.$root.displayError("Couldn’t save billing information.")})},function(){t.loading=!1,t.$root.displayError("Couldn’t save payment method.")})},onCountryChange:function(t){if(this.countries[t]){var e=this.countries[t];if(e.states){var n=e.states,i=[];for(var r in n)i.push({label:n[r],value:r});this.stateOptions=i}else this.stateOptions=[]}else this.stateOptions=[]},couponCodeChange:function(t){clearTimeout(this.couponCodeTimeout),this.couponCodeSuccess=!1,this.couponCodeError=!1,this.couponCodeTimeout=setTimeout(function(){var e=this;this.couponCodeLoading=!0;var n={couponCode:t||null};this.$store.dispatch("cart/saveCart",n).then(function(){e.couponCodeSuccess=!0,e.couponCodeError=!1,e.staticCartTotal=e.cart.totalPrice,e.couponCodeLoading=!1}).catch(function(){e.couponCodeError=!0,e.staticCartTotal=e.cart.totalPrice,e.couponCodeLoading=!1})}.bind(this),500)}},mounted:function(){var t=this;this.staticCartTotal=this.cart.totalPrice,this.couponCode=this.cart.couponCode,this.craftId&&this.craftId.billingAddress&&(this.craftId.card&&(this.paymentMode="existingCard"),this.craftId.billingAddress.country&&this.onCountryChange(this.craftId.billingAddress.country),this.$nextTick(function(){t.billingInfo=JSON.parse(JSON.stringify(t.craftId.billingAddress))}))}},vr=br,yr=(n("d56d"),Object(D["a"])(vr,qi,tr,!1,null,null,null)),Or=yr.exports,Cr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("h1",[t._v(t._s(t._f("t")("Cart","app")))])]),n("template",{slot:"main"},[n("h2",[t._v(t._s(t._f("t")("Items in your cart","app")))]),t.cart?[t.cartItems.length?[n("table",{staticClass:"cart-data fullwidth"},[n("thead",[n("tr",[n("th"),n("th",[t._v(t._s(t._f("t")("Item","app")))]),n("th",[t._v(t._s(t._f("t")("Updates","app")))]),n("th",{staticClass:"w-10"})])]),t._l(t.cartItems,function(e,i){return n("tbody",{key:"item"+i},[n("tr",{staticClass:"item-details"},["cms-edition"===e.lineItem.purchasable.type?[n("td",{staticClass:"thin"},[n("div",{staticClass:"plugin-icon"},[n("img",{attrs:{src:t.craftLogo,width:"40",height:"40"}})])]),n("td",{staticClass:"item-name"},[n("strong",[t._v("Craft CMS")]),n("edition-badge",{attrs:{name:e.lineItem.purchasable.name}})],1)]:"plugin-edition"===e.lineItem.purchasable.type?[n("td",{staticClass:"thin"},[n("div",{staticClass:"plugin-icon"},[e.plugin.iconUrl?n("img",{attrs:{src:e.plugin.iconUrl,width:"40",height:"40"}}):t._e()])]),n("td",[n("div",{staticClass:"item-name"},[n("strong",[t._v(t._s(e.plugin.name))]),n("edition-badge",{attrs:{name:e.lineItem.purchasable.name}})],1)])]:t._e(),n("td",{staticClass:"expiry-date"},["cms-edition"===e.lineItem.purchasable.type||"plugin-edition"===e.lineItem.purchasable.type&&"new:"===e.lineItem.options.licenseKey.substr(0,4)?[n("dropdown",{attrs:{options:t.itemExpiryDateOptions(i)},on:{input:function(e){return t.onSelectedExpiryDateChange(i)}},model:{value:t.selectedExpiryDates[i],callback:function(e){t.$set(t.selectedExpiryDates,i,e)},expression:"selectedExpiryDates[itemKey]"}})]:t._e(),t.itemLoading(i)?n("spinner"):t._e()],2),n("td",{staticClass:"price"},[n("strong",[t._v(t._s(t._f("currency")(e.lineItem.price)))])])],2),t._l(e.lineItem.adjustments,function(e,r){return[n("tr",{key:i+"adjustment-"+r,staticClass:"sub-item"},[n("td",{staticClass:"blank-cell"}),n("td",{staticClass:"blank-cell"}),n("td",["extendedUpdates"===e.sourceSnapshot.type?[t._v("\n                                        "+t._s(t._f("t")("Updates until {date}","app",{date:t.$options.filters.formatDate(e.sourceSnapshot.expiryDate)}))+"\n                                    ")]:[t._v("\n                                        "+t._s(e.name)+"\n                                    ")]],2),n("td",{staticClass:"price"},[t._v("\n                                    "+t._s(t._f("currency")(e.amount))+"\n                                ")])])]}),n("tr",{staticClass:"sub-item"},[n("td",{staticClass:"blank-cell"}),n("td",{staticClass:"blank-cell"}),n("td",{staticClass:"empty-cell"}),n("td",{staticClass:"price"},[n("div",{staticClass:"w-16"},[t.removeFromCartLoading(i)?[n("spinner",{staticClass:"sm"})]:[n("a",{attrs:{role:"button"},on:{click:function(e){return t.removeFromCart(i)}}},[t._v(t._s(t._f("t")("Remove","app")))])]],2)])])],2)}),n("tbody",[n("tr",[n("th",{staticClass:"total-price",attrs:{colspan:"3"}},[n("strong",[t._v(t._s(t._f("t")("Total Price","app")))])]),n("td",{staticClass:"total-price"},[n("strong",[t._v(t._s(t._f("currency")(t.cart.totalPrice)))])])])])],2),n("div",{staticClass:"py-4"},[n("btn",{attrs:{kind:"primary"},on:{click:function(e){return t.payment()}}},[t._v(t._s(t._f("t")("Checkout","app")))])],1)]:n("div",[n("p",[t._v(t._s(t._f("t")("Your cart is empty.","app"))+" "),n("a",{on:{click:function(e){return t.$emit("continue-shopping")}}},[t._v(t._s(t._f("t")("Continue shopping","app")))])])])]:t._e(),t.pendingActiveTrials&&t.pendingActiveTrials.length>0?[n("hr"),t.pendingActiveTrials.length>1?n("div",{staticClass:"right"},[n("a",{on:{click:function(e){return t.addAllToCart()}}},[t._v(t._s(t._f("t")("Add all to cart","app")))])]):t._e(),n("h2",[t._v(t._s(t._f("t")("Active Trials","app")))]),n("table",{staticClass:"cart-data"},[n("thead",[n("tr",[n("th",{staticClass:"thin"}),n("th",[t._v(t._s(t._f("t")("Plugin Name","app")))])])]),t._l(t.pendingActiveTrials,function(t,e){return n("tbody",{key:e},[n("active-trials-table-row",{attrs:{plugin:t}})],1)})],2)]:t._e()],2)],2)},_r=[],Pr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.plugin?n("tr",[n("td",{staticClass:"thin"},[n("div",{staticClass:"plugin-icon"},[t.plugin.iconUrl?n("img",{attrs:{src:t.plugin.iconUrl,height:"40",width:"40"}}):n("div",{staticClass:"default-icon"})])]),n("td",{staticClass:"item-name"},[n("strong",[t._v(t._s(t.plugin.name))]),t.activeTrialPluginEdition&&t.plugin.editions.length>1?n("edition-badge",{attrs:{name:t.activeTrialPluginEdition.name}}):t._e()],1),n("td",[t.activeTrialPluginEdition?[t.licensedEdition&&t.licensedEdition.handle!==t.activeTrialPluginEdition.handle&&t.licensedEdition.price>0?[n("del",{staticClass:"mr-1"},[t._v(t._s(t._f("currency")(t.activeTrialPluginEdition.price)))]),n("strong",[t._v(t._s(t._f("currency")(t.activeTrialPluginEdition.price-t.licensedEdition.price)))])]:[n("strong",[t._v(t._s(t._f("currency")(t.activeTrialPluginEdition.price)))])]]:t._e()],2),n("td",{staticClass:"w-1/4"},[n("div",{staticClass:"text-right"},[t.activeTrialLoading?[n("spinner",{attrs:{size:"sm"}})]:[n("a",{attrs:{loading:t.activeTrialLoading},on:{click:function(e){return t.addToCart(t.plugin,t.pluginLicenseInfo.edition)}}},[t._v(t._s(t._f("t")("Add to cart","app")))])]],2)])]):t._e()},Ir=[];function wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wr(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wr(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Dr={components:{EditionBadge:E},props:["plugin"],data:function(){return{activeTrialLoading:!1}},computed:jr({},Object(b["mapGetters"])({activeTrialPluginEditions:"cart/activeTrialPluginEditions",getPluginEdition:"pluginStore/getPluginEdition",getPluginLicenseInfo:"craft/getPluginLicenseInfo"}),{activeTrialPluginEdition:function(){return this.activeTrialPluginEditions[this.plugin.handle]},pluginLicenseInfo:function(){return this.getPluginLicenseInfo(this.plugin.handle)},licensedEdition:function(){return this.pluginLicenseInfo?this.getPluginEdition(this.plugin.handle,this.pluginLicenseInfo.licensedEdition):null}}),methods:{addToCart:function(t,e){var n=this;this.activeTrialLoading=!0;var i={type:"plugin-edition",plugin:t.handle,edition:e};this.$store.dispatch("cart/addToCart",[i]).then(function(){n.activeTrialLoading=!1}).catch(function(t){n.activeTrialLoading=!1;var e=t.errors&&t.errors[0]&&t.errors[0].message?t.errors[0].message:"Couldn’t add item to cart.";n.$root.displayError(e)})}}},Sr=Dr,Er=Object(D["a"])(Sr,Pr,Ir,!1,null,null,null),Mr=Er.exports;function kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kr(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kr(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Nr={data:function(){return{loadingItems:{},loadingRemoveFromCart:{}}},components:{ActiveTrialsTableRow:Mr,Step:ar,EditionBadge:E},computed:xr({},Object(b["mapState"])({cart:function(t){return t.cart.cart},craftLogo:function(t){return t.craft.craftLogo},craftId:function(t){return t.craft.craftId},expiryDateOptions:function(t){return t.pluginStore.expiryDateOptions},pluginLicenseInfo:function(t){return t.craft.pluginLicenseInfo}}),{},Object(b["mapGetters"])({activeTrialPlugins:"cart/activeTrialPlugins",cartItems:"cart/cartItems",cartItemsData:"cart/cartItemsData",getActiveTrialPluginEdition:"cart/getActiveTrialPluginEdition"}),{selectedExpiryDates:{get:function(){return JSON.parse(JSON.stringify(this.$store.state.cart.selectedExpiryDates))},set:function(t){this.$store.commit("cart/updateSelectedExpiryDates",t)}},pendingActiveTrials:function(){var t=this;return this.activeTrialPlugins.filter(function(e){if(e)return!!t.cart&&!t.cart.lineItems.find(function(t){return t.purchasable.pluginId==e.id})})}}),methods:xr({},Object(b["mapActions"])({removeFromCart:"cart/removeFromCart"}),{removeFromCart:function(t){var e=this;this.$set(this.loadingRemoveFromCart,t,!0),this.$store.dispatch("cart/removeFromCart",t).then(function(){e.$delete(e.loadingRemoveFromCart,t)}).catch(function(n){e.$delete(e.loadingRemoveFromCart,t);var i=n.errors&&n.errors[0]&&n.errors[0].message?n.errors[0].message:"Couldn’t remove item from cart.";e.$root.displayError(i)})},addAllToCart:function(){var t=this,e=this.$store,n=[];this.pendingActiveTrials.forEach(function(e){var i=t.getActiveTrialPluginEdition(e.handle),r={type:"plugin-edition",plugin:e.handle,edition:i.handle};n.push(r)}),e.dispatch("cart/addToCart",n).catch(function(){t.$root.displayError(t.$options.filters.t("Couldn’t add all items to the cart.","app"))})},payment:function(){this.craftId?this.$root.openModal("payment"):this.$root.openModal("identity")},itemExpiryDateOptions:function(t){var e=this.cartItems[t],n=e.lineItem.purchasable.renewalPrice,i=[],r=0;this.expiryDateOptions.forEach(function(t,n){t===e.lineItem.options.expiryDate&&(r=n)});for(var a=0;a<this.expiryDateOptions.length;a++){var o=this.expiryDateOptions[a],s=o[0],c=Craft.formatDate(o[1]),l=this.$options.filters.t("Updates until {date}","app",{date:c}),u=n*(a-r);if(0!==u){var d="";u>0&&(d="+"),u=this.$options.filters.currency(u),l=this.$options.filters.t("Updates until {date} ({sign}{price})","app",{date:c,sign:d,price:u})}i.push({label:l,value:s})}return i},onSelectedExpiryDateChange:function(t){var e=this;this.$set(this.loadingItems,t,!0);var n=this.cartItemsData[t];n.expiryDate=this.selectedExpiryDates[t],this.$store.dispatch("cart/updateItem",{itemKey:t,item:n}).then(function(){e.$delete(e.loadingItems,t)})},itemLoading:function(t){return!!this.loadingItems[t]},removeFromCartLoading:function(t){return!!this.loadingRemoveFromCart[t]},updatesUntil:function(t){return this.$options.filters.t("Updates until {date}","app",{date:t})}})},Tr=Nr,$r=(n("8127"),Object(D["a"])(Tr,Cr,_r,!1,null,null,null)),Lr=$r.exports,Ar=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("div",{staticClass:"btn-left"},[n("a",{on:{click:function(e){return t.$emit("back")}}},[t._v(t._s(t._f("t")("Back","app")))])]),n("h1",[t._v("Identity")])]),n("template",{slot:"main"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.save()}}},[n("p",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.identityMode,expression:"identityMode"}],attrs:{type:"radio",value:"craftid"},domProps:{checked:t._q(t.identityMode,"craftid")},on:{change:function(e){t.identityMode="craftid"}}}),t._v(" "+t._s(t._f("t")("Use your Craft ID","app")))])]),"craftid"===t.identityMode?[t.craftId?[n("ul",[n("li",[t._v(t._s(t.craftId.name))]),n("li",[t._v(t._s(t.craftId.email))])]),n("btn",{attrs:{kind:"primary",type:"submit",disabled:!t.validates||t.loading,loading:t.loading}},[t._v(t._s(t._f("t")("Continue","app")))])]:n("p",[n("btn",{attrs:{kind:"primary"},on:{click:t.connectCraftId}},[t._v(t._s(t._f("t")("Connect to your Craft ID","app")))])],1)]:t._e(),n("p",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.identityMode,expression:"identityMode"}],attrs:{type:"radio",value:"guest"},domProps:{checked:t._q(t.identityMode,"guest")},on:{change:function(e){t.identityMode="guest"}}}),t._v(" "+t._s(t._f("t")("Continue as guest","app")))])]),"guest"===t.identityMode?[n("textbox",{attrs:{id:"email",placeholder:"Email",errors:t.guestEmailError},model:{value:t.guestEmail,callback:function(e){t.guestEmail=e},expression:"guestEmail"}}),n("btn",{attrs:{kind:"primary",type:"submit",disabled:!t.validates||t.loading,loading:t.loading}},[t._v(t._s(t._f("t")("Continue","app")))])]:t._e()],2)])],2)},zr=[];function Ur(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ur(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ur(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Qr={components:{Step:ar},data:function(){return{loading:!1,guestEmail:"",guestEmailError:!1}},computed:Br({},Object(b["mapState"])({cart:function(t){return t.cart.cart},craftId:function(t){return t.craft.craftId}}),{identityMode:{get:function(){return this.$store.state.cart.identityMode},set:function(t){this.$store.commit("cart/changeIdentityMode",t)}},validates:function(){return!("craftid"===this.identityMode&&!this.craftId)&&!("guest"===this.identityMode&&!this.guestEmail)}}),methods:{connectCraftId:function(){var t=800,e=600,n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,r=n/2-t/2,a=i/2-e/2,o=Craft.getActionUrl("plugin-store/connect",{redirectUrl:Craft.getActionUrl("plugin-store/modal-callback")}),s="ConnectWithOauth",c="location=0,status=0,width="+t+",height="+e+",left="+r+",top="+a;window.open(o,s,c)},save:function(){var t=this;if(this.loading=!0,"guest"===this.identityMode){var e={email:this.guestEmail};this.$store.dispatch("cart/saveCart",e).then(function(){t.loading=!1,t.$root.openModal("payment")}).catch(function(){t.loading=!1,t.$root.displayError("Couldn’t save identity.")})}else this.loading=!1,this.$root.openModal("payment")}},mounted:function(){this.$root.$on("craftIdUpdated",function(){this.craftId&&this.$root.openModal("payment")}.bind(this)),this.guestEmail=this.cart.email}},Rr=Qr,Gr=Object(D["a"])(Rr,Ar,zr,!1,null,null,null),Fr=Gr.exports,Zr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"main"},[n("div",{attrs:{id:"thank-you-message"}},[n("icon",{attrs:{icon:"check-circle",size:"4xl"}}),n("h2",[t._v(t._s(t._f("t")("Thank You!","app")))]),n("p",{staticClass:"light"},[t._v(t._s(t._f("t")("Your order has been processed successfully.","app")))]),n("p",[n("btn",{attrs:{kind:"primary",href:t.managePluginsUrl}},[t._v(t._s(t._f("t")("Manage plugins","app")))])],1)],1)])],2)},Yr=[];function Hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hr(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hr(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Vr={components:{Step:ar},computed:Kr({},Object(b["mapState"])({craftLogo:function(t){return t.craft.craftLogo}}),{managePluginsUrl:function(){return Craft.getCpUrl("settings/plugins")}})},Jr=Vr,Wr=Object(D["a"])(Jr,Zr,Yr,!1,null,null,null),Xr=Wr.exports;function qr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ta(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qr(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qr(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ea={components:{Cart:Lr,Identity:Fr,Payment:Or,ThankYou:Xr},props:["pluginId","show"],data:function(){return{modal:null}},computed:ta({},Object(b["mapState"])({identityMode:function(t){return t.cart.identityMode}}),{modalStep:function(){return this.$root.modalStep}}),watch:{show:function(t){t?this.modal.show():this.modal.hide()}},methods:{back:function(){"craftid"===this.identityMode||"identity"===this.modalStep?this.$root.openModal("cart"):this.$root.openModal("identity")}},mounted:function(){var t=this;this.modal=new Garnish.Modal(this.$refs.pluginstoremodal,{autoShow:!1,resizable:!0,onHide:function(){t.$emit("update:show",!1)}})}},na=ea,ia=(n("4db5"),Object(D["a"])(na,Wi,Xi,!1,null,null,null)),ra=ia.exports,aa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-wrapper"},[n("transition",{attrs:{name:"fade"}},[t.showingScreenshotModal?n("screenshot-modal"):t._e()],1),t.$root.pluginStoreDataLoaded&&!t.$root.pluginStoreDataError?[n("sidebar"),n("div",{staticClass:"ps-main"},[n("router-view",{key:t.$route.fullPath})],1)]:[n("status-message",{attrs:{error:t.$root.pluginStoreDataError,message:t.$root.statusMessage}})],n("modal",{attrs:{show:t.$root.showModal,"plugin-id":t.$root.pluginId},on:{"update:show":function(e){return t.$set(t.$root,"showModal",e)}}})],2)},oa=[],sa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-sidebar"},[n("plugin-search"),n("category-selector"),n("ul",{staticClass:"categories"},[t.CraftEdition<t.CraftPro||t.licensedEdition<t.CraftPro?n("li",[n("router-link",{attrs:{to:"/upgrade-craft"}},[n("img",{attrs:{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Y3JhZnQ8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJjcmFmdCI+ICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgZmlsbD0iI0RBNUE0NyIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIj48L2NpcmNsZT4gICAgICAgICAgICA8cGF0aCBkPSJNNjUuMTMxNDQwNCwzNC4yNjI5Njc5IEM2NS40MTUyMjQxLDM0LjQ3NTEzMDEgNjUuNjgyNzkxNywzNC42OTk0NTQ0IDY1Ljk0NDk1MzksMzQuOTI3ODMyOCBMNzAuMTgyNzkxNywzMS42MzA1MzU1IEw3MC4zMTUyMjQxLDMxLjQ2MDI2NTIgQzY5LjY2MDE5NjUsMzAuODAwOTk5IDY4Ljk1ODM2NzUsMzAuMTg5OTQ3IDY4LjIxNTIyNDEsMjkuNjMxODg2OSBDNTguNDg5NTQ4NSwyMi4zNTQ4NTk4IDQzLjc5MjI1MTIsMjUuNDAwODA1OCAzNS4zODgxOTcxLDM2LjQzNTk0MDkgQzI2Ljk4OTU0ODUsNDcuNDY5NzI0NyAyOC4wNjM4NzI4LDYyLjMxMDI2NTIgMzcuNzg4MTk3MSw2OS41ODk5OTUgQzQ1LjczMDA4OSw3NS41MzA1MzU1IDU2Ljk4Mjc5MTcsNzQuNTg3MjkyMyA2NS40MTkyNzgyLDY4LjAzNTk0MDkgTDY1LjQxMjUyMTQsNjguMDE5NzI0NyBMNjEuMzc3Mzg2Myw2NC44ODQ1ODk2IEM1NS4xMjQ2ODM2LDY4Ljg2ODM3MzMgNDcuMzY5Mjc4Miw2OS4xNTQ4NTk4IDQxLjc1ODQ2NzQsNjQuOTU3NTYyNSBDMzQuMjg1NDk0NCw1OS4zNjgzNzMzIDMzLjQ2MTE3MDEsNDcuOTY1NjcwNiAzOS45MTY1NzU1LDM5LjQ4OTk5NSBDNDYuMzY5Mjc4MiwzMS4wMTI5Njc5IDU3LjY1OTgxODcsMjguNjczNzc4OCA2NS4xMzAwODksMzQuMjYyOTY3OSBMNjUuMTMxNDQwNCwzNC4yNjI5Njc5IFoiIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4="}}),t._v("\n                "+t._s(t._f("t")("Upgrade Craft CMS","app"))+"\n            ")])],1):t._e(),t._l(t.categories,function(e){return n("li",{key:e.id},[n("router-link",{attrs:{to:"/categories/"+e.id}},[n("img",{attrs:{src:e.iconUrl}}),t._v("\n                "+t._s(e.title)+"\n            ")])],1)})],2)],1)},ca=[],la=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",{staticClass:"category-selector-btn",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCategorySelector=!t.showCategorySelector}}},[t._v("All categories")]),n("div",{staticClass:"category-selector",class:{hidden:!t.showCategorySelector}},[n("div",{staticClass:"category-selector-header"},[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCategorySelector=!1}}},[t._v("Hide categories")])]),n("div",{staticClass:"category-selector-body"},[n("ul",{staticClass:"categories"},[t.CraftEdition<t.CraftPro||t.licensedEdition<t.CraftPro?n("li",[n("router-link",{attrs:{to:"/upgrade-craft"}},[n("img",{attrs:{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Y3JhZnQ8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJjcmFmdCI+ICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgZmlsbD0iI0RBNUE0NyIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIj48L2NpcmNsZT4gICAgICAgICAgICA8cGF0aCBkPSJNNjUuMTMxNDQwNCwzNC4yNjI5Njc5IEM2NS40MTUyMjQxLDM0LjQ3NTEzMDEgNjUuNjgyNzkxNywzNC42OTk0NTQ0IDY1Ljk0NDk1MzksMzQuOTI3ODMyOCBMNzAuMTgyNzkxNywzMS42MzA1MzU1IEw3MC4zMTUyMjQxLDMxLjQ2MDI2NTIgQzY5LjY2MDE5NjUsMzAuODAwOTk5IDY4Ljk1ODM2NzUsMzAuMTg5OTQ3IDY4LjIxNTIyNDEsMjkuNjMxODg2OSBDNTguNDg5NTQ4NSwyMi4zNTQ4NTk4IDQzLjc5MjI1MTIsMjUuNDAwODA1OCAzNS4zODgxOTcxLDM2LjQzNTk0MDkgQzI2Ljk4OTU0ODUsNDcuNDY5NzI0NyAyOC4wNjM4NzI4LDYyLjMxMDI2NTIgMzcuNzg4MTk3MSw2OS41ODk5OTUgQzQ1LjczMDA4OSw3NS41MzA1MzU1IDU2Ljk4Mjc5MTcsNzQuNTg3MjkyMyA2NS40MTkyNzgyLDY4LjAzNTk0MDkgTDY1LjQxMjUyMTQsNjguMDE5NzI0NyBMNjEuMzc3Mzg2Myw2NC44ODQ1ODk2IEM1NS4xMjQ2ODM2LDY4Ljg2ODM3MzMgNDcuMzY5Mjc4Miw2OS4xNTQ4NTk4IDQxLjc1ODQ2NzQsNjQuOTU3NTYyNSBDMzQuMjg1NDk0NCw1OS4zNjgzNzMzIDMzLjQ2MTE3MDEsNDcuOTY1NjcwNiAzOS45MTY1NzU1LDM5LjQ4OTk5NSBDNDYuMzY5Mjc4MiwzMS4wMTI5Njc5IDU3LjY1OTgxODcsMjguNjczNzc4OCA2NS4xMzAwODksMzQuMjYyOTY3OSBMNjUuMTMxNDQwNCwzNC4yNjI5Njc5IFoiIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4="}}),t._v("\n                        "+t._s(t._f("t")("Upgrade Craft CMS","app"))+"\n                    ")])],1):t._e(),t._l(t.categories,function(e,i){return n("li",{key:i},[n("router-link",{attrs:{to:"/categories/"+e.id},nativeOn:{click:function(e){t.showCategorySelector=!1}}},[n("img",{attrs:{src:e.iconUrl}}),t._v("\n                        "+t._s(e.title)+"\n                    ")])],1)})],2)])])])},ua=[];function da(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?da(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):da(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var fa={data:function(){return{showCategorySelector:!1}},computed:pa({},Object(b["mapState"])({categories:function(t){return t.pluginStore.categories},licensedEdition:function(t){return t.craft.licensedEdition},CraftEdition:function(t){return t.craft.CraftEdition},CraftPro:function(t){return t.craft.CraftPro}}))},ga=fa,ha=(n("a87c"),Object(D["a"])(ga,la,ua,!1,null,"0fb596e3",null)),ma=ha.exports,ba=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-4"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.search()}}},[n("div",{staticClass:"ps-search"},[n("icon",{attrs:{icon:"search"}}),n("textbox",{attrs:{id:"searchQuery",placeholder:t._f("t")("Search plugins","app"),autocomplete:"off"},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)])])},va=[],ya={data:function(){return{searchQuery:""}},methods:{search:function(){this.searchQuery&&(this.$store.commit("app/updateSearchQuery",this.searchQuery),this.$router.push({path:"/search"}))}}},Oa=ya,Ca=(n("6996"),Object(D["a"])(Oa,ba,va,!1,null,null,null)),_a=Ca.exports;function Pa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pa(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pa(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var wa={components:{CategorySelector:ma,PluginSearch:_a},computed:Ia({},Object(b["mapState"])({categories:function(t){return t.pluginStore.categories},licensedEdition:function(t){return t.craft.licensedEdition},CraftEdition:function(t){return t.craft.CraftEdition},CraftPro:function(t){return t.craft.CraftPro}}))},ja=wa,Da=(n("3583"),Object(D["a"])(ja,sa,ca,!1,null,"5d042672",null)),Sa=Da.exports,Ea=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"screenshotModal",attrs:{id:"screenshot-modal"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[n("a",{staticClass:"close",on:{click:t.close}},[t._v("×")]),t.screenshotModalImages?n("div",{ref:"carousel",staticClass:"carousel"},[n("swiper",{ref:"screenshotModalSwiper",attrs:{options:t.swiperOption}},t._l(t.screenshotModalImages,function(t,e){return n("swiper-slide",{key:e},[n("div",{staticClass:"screenshot"},[n("div",{staticClass:"swiper-zoom-container"},[n("img",{attrs:{src:t}})])])])}),1),t.screenshotModalImages.length>1?[n("div",{staticClass:"swiper-button-prev"},[n("icon",{attrs:{icon:"chevron-left",size:"xl"}})],1),n("div",{staticClass:"swiper-button-next"},[n("icon",{attrs:{icon:"chevron-right",size:"xl"}})],1),n("div",{staticClass:"pagination-wrapper"},[n("div",{staticClass:"pagination-content"},[n("div",{class:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})])])]:t._e()],2):t._e()])},Ma=[];function ka(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function xa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ka(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ka(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Na={data:function(){return{ratio:"4:3"}},computed:xa({},Object(b["mapState"])({screenshotModalImages:function(t){return t.app.screenshotModalImages},screenshotModalImageKey:function(t){return t.app.screenshotModalImageKey}}),{swiper:function(){return this.$refs.screenshotModalSwiper.swiper},swiperOption:function(){return{initialSlide:0,loop:!1,pagination:{el:".swiper-pagination",clickable:!0},keyboard:!0,zoom:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}}),methods:{close:function(){this.$store.commit("app/updateShowingScreenshotModal",!1)},handleResize:function(){if(0!==this.screenshotModalImages.length){var t,e=this.ratio.split(":"),n=e[0],i=e[1],r=this.$refs.carousel,a=r.offsetWidth,o=r.offsetHeight,s=r.getElementsByTagName("img");this.inline?t=a*i/n:(t=a>o?a*i/n:o*n/i,o>0&&t>o&&(t=o));for(var c=0;c<s.length;c++){var l=s[c];l.style.maxHeight=t+"px"}}},handleEscapeKey:function(t){27===t.keyCode&&this.close()}},mounted:function(){this.swiper.slideTo(this.screenshotModalImageKey,0),window.addEventListener("resize",this.handleResize),this.handleResize()},created:function(){window.addEventListener("keydown",this.handleEscapeKey)},beforeDestroy:function(){this.swiper.destroy(!0,!1),window.removeEventListener("resize",this.handleResize),window.removeEventListener("keydown",this.handleEscapeKey)}},Ta=Na,$a=(n("9819"),Object(D["a"])(Ta,Ea,Ma,!1,null,null,null)),La=$a.exports;function Aa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Aa(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aa(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ua={components:{Sidebar:Sa,Modal:ra,StatusMessage:Be,ScreenshotModal:La},computed:za({},Object(b["mapState"])({showingScreenshotModal:function(t){return t.app.showingScreenshotModal}}))},Ba=Ua,Qa=(n("5c0b"),n("7fb8"),Object(D["a"])(Ba,aa,oa,!1,null,null,null)),Ra=Qa.exports,Ga=(n("8d36"),n("76f0"));a.a.use(Ga["a"]);var Fa=n("7212"),Za=n.n(Fa);n("dfa4");function Ya(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ya(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ya(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}a.a.use(Za.a),a.a.filter("currency",c),a.a.filter("escapeHtml",l),a.a.filter("formatDate",d),a.a.filter("formatNumber",p),a.a.filter("t",u),Garnish.$doc.ready(function(){Craft.initUiElements(),window.pluginStoreApp=new a.a({router:Oi,store:Ji,render:function(t){return t(Ra)},components:{Modal:ra,StatusMessage:Be,App:Ra},data:function(){return{pageTitle:"Plugin Store",plugin:null,pluginId:null,modalStep:null,pluginStoreDataLoaded:!1,pluginStoreDataError:!1,craftIdDataLoaded:!1,pluginLicenseInfoLoaded:!1,cartDataLoaded:!1,showModal:!1,statusMessage:null}},computed:Ha({},Object(b["mapState"])({cart:function(t){return t.cart.cart},craftId:function(t){return t.craft.craftId}})),watch:{cart:function(t){var e=0;t&&(e=t.totalQty),$(".badge",this.$cartButton).html(e)},craftId:function(){this.craftId?($(".label",this.$craftId).html(this.craftId.username),this.$craftId.removeClass("hidden"),this.$craftIdConnectForm.addClass("hidden"),this.$craftIdDisconnectForm.removeClass("hidden")):(this.$craftId.addClass("hidden"),this.$craftIdConnectForm.removeClass("hidden"),this.$craftIdDisconnectForm.addClass("hidden"))}},methods:{displayNotice:function(t){Craft.cp.displayNotice(t)},displayError:function(t){Craft.cp.displayError(t)},showPlugin:function(t){this.plugin=t,this.pluginId=t.id,this.openModal("plugin-details")},openModal:function(t){this.modalStep=t,this.showModal=!0},closeModal:function(){this.showModal=!1},updateCraftId:function(t){var e=JSON.parse(t);this.$store.dispatch("craft/updateCraftId",{craftId:e}),this.$emit("craftIdUpdated")},initializeOuterComponents:function(){this.$headerTitle=$("#header h1"),this.$headerTitle.on("click",function(){this.$router.push({path:"/"})}.bind(this)),this.$cartButton=$("#cart-button"),this.$cartButton.on("click",function(t){t.preventDefault(),this.openModal("cart")}.bind(this)),this.$cartButton.keydown(function(t){switch(t.which){case 13:case 32:t.preventDefault(),this.openModal("cart");break}}.bind(this)),this.$pluginStoreActions=$("#pluginstore-actions"),this.$pluginStoreActionsSpinner=$("#pluginstore-actions-spinner"),this.$craftId=$("#craftid-account"),this.$craftIdConnectForm=$("#craftid-connect-form"),this.$craftIdDisconnectForm=$("#craftid-disconnect-form")},loadPluginStoreData:function(){var t=this;this.$store.dispatch("pluginStore/getPluginStoreData").then(function(){t.pluginStoreDataLoaded=!0,t.$emit("dataLoaded")}).catch(function(){t.pluginStoreDataError=!0,t.statusMessage=t.$options.filters.t("The Plugin Store is not available, please try again later.","app")})},loadCraftData:function(){var t=this;this.$store.dispatch("craft/getCraftData").then(function(){t.craftIdDataLoaded=!0,t.$emit("dataLoaded"),t.$store.dispatch("cart/getCart").then(function(){t.cartDataLoaded=!0,t.$emit("dataLoaded")})}).catch(function(){t.craftIdDataLoaded=!0})},loadPluginLicenseInfo:function(){var t=this;this.$store.dispatch("craft/getPluginLicenseInfo").then(function(){t.pluginLicenseInfoLoaded=!0,t.$emit("dataLoaded")})}},created:function(){this.pageTitle=this.$options.filters.t("Plugin Store","app"),this.statusMessage=this.$options.filters.t("Loading Plugin Store…","app"),this.initializeOuterComponents(),this.$on("dataLoaded",function(){!this.pluginStoreDataLoaded||this.craftIdDataLoaded&&this.cartDataLoaded&&this.pluginLicenseInfoLoaded||this.$pluginStoreActionsSpinner.removeClass("hidden"),this.pluginStoreDataLoaded&&this.craftIdDataLoaded&&this.cartDataLoaded&&this.pluginLicenseInfoLoaded&&(this.$pluginStoreActions.removeClass("hidden"),this.$pluginStoreActionsSpinner.addClass("hidden"),this.$emit("allDataLoaded"))}.bind(this)),this.loadPluginStoreData(),this.loadCraftData(),this.loadPluginLicenseInfo()}}).$mount("#app")})},5880:function(t,e){t.exports=Vuex},"5c0b":function(t,e,n){"use strict";var i=n("e332"),r=n.n(i);r.a},6337:function(t,e,n){"use strict";var i=n("be3a"),r=n.n(i);r.a},6389:function(t,e){t.exports=VueRouter},"694d":function(t,e,n){"use strict";var i=n("4320"),r=n.n(i);r.a},6996:function(t,e,n){"use strict";var i=n("299b"),r=n.n(i);r.a},"762f":function(t,e,n){},"76bd":function(t,e,n){},7837:function(t,e,n){},"7bdd":function(t,e,n){"use strict";var i=n("cd1c"),r=n.n(i);r.a},"7fb8":function(t,e,n){"use strict";var i=n("3a14"),r=n.n(i);r.a},"7fbf":function(t,e,n){"use strict";var i=n("afea"),r=n.n(i);r.a},"801f":function(t,e,n){},"804f":function(t,e,n){},8127:function(t,e,n){"use strict";var i=n("498a"),r=n.n(i);r.a},"88da":function(t,e,n){"use strict";var i=n("7837"),r=n.n(i);r.a},"890b":function(t,e,n){},"8bbf":function(t,e){t.exports=Vue},"8d36":function(t,e,n){"use strict";(function(t){var e=n("8bbf"),i=n.n(e),r=n("0202");t.browser&&i.a.use(r["a"])}).call(this,n("f28c"))},9111:function(t,e,n){"use strict";var i=n("c544"),r=n.n(i);r.a},9819:function(t,e,n){"use strict";var i=n("1171"),r=n.n(i);r.a},"9c73":function(t,e,n){"use strict";var i=n("762f"),r=n.n(i);r.a},a39d:function(t,e,n){},a87c:function(t,e,n){"use strict";var i=n("890b"),r=n.n(i);r.a},afea:function(t,e,n){},be3a:function(t,e,n){},c48d:function(t,e,n){"use strict";var i=n("f7dd"),r=n.n(i);r.a},c4cc:function(t,e,n){"use strict";var i=n("e509"),r=n.n(i);r.a},c544:function(t,e,n){},cd1c:function(t,e,n){},cebe:function(t,e){t.exports=axios},d56d:function(t,e,n){"use strict";var i=n("ff1e"),r=n.n(i);r.a},d63c:function(t,e,n){"use strict";var i=n("d700"),r=n.n(i);r.a},d700:function(t,e,n){},de62:function(t,e,n){},e332:function(t,e,n){},e509:function(t,e,n){},e67b:function(t,e,n){"use strict";var i=n("76bd"),r=n.n(i);r.a},eb95:function(t,e,n){"use strict";var i=n("ef91"),r=n.n(i);r.a},ebf0:function(t,e,n){},ef91:function(t,e,n){},f7dd:function(t,e,n){},ff1e:function(t,e,n){}});
//# sourceMappingURL=app.js.map