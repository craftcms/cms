!function(i){Craft.EntryTypeSwitcher=Garnish.Base.extend({$typeSelect:null,$spinner:null,init:function(){this.$typeSelect=i("#entryType"),this.$spinner=i('<div class="spinner hidden"/>').insertAfter(this.$typeSelect.parent()),this.addListener(this.$typeSelect,"change","onTypeChange")},onTypeChange:function(e){this.$spinner.removeClass("hidden"),Craft.postActionRequest("entries/switch-entry-type",Craft.cp.$primaryForm.serialize(),i.proxy(function(e,t){if(this.$spinner.addClass("hidden"),"success"===t){this.trigger("beforeTypeChange");var n=i("#tabs");n.length?n.replaceWith(e.tabsHtml):i(e.tabsHtml).insertBefore(i("#content")),i("#fields").html(e.fieldsHtml),Craft.initUiElements(i("#fields")),Craft.appendHeadHtml(e.headHtml),Craft.appendFootHtml(e.bodyHtml),"undefined"!=typeof slugGenerator&&slugGenerator.setNewSource("#title"),Craft.cp.initTabs(),this.trigger("typeChange")}},this))}})}(jQuery);
//# sourceMappingURL=EntryTypeSwitcher.min.js.map