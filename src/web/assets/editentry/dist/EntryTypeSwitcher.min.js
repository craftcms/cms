!function(e){Craft.EntryTypeSwitcher=Garnish.Base.extend({$typeSelect:null,$spinner:null,init:function(){this.$typeSelect=e("#entryType"),this.$spinner=e('<div class="spinner hidden"/>').insertAfter(this.$typeSelect.parent()),this.addListener(this.$typeSelect,"change","onTypeChange")},onTypeChange:function(t){this.$spinner.removeClass("hidden"),Craft.postActionRequest("entries/switch-entry-type",Craft.cp.$primaryForm.serialize(),e.proxy((function(t,n){if(this.$spinner.addClass("hidden"),"success"===n){this.trigger("beforeTypeChange");var s=e("#tabs");t.tabsHtml?(s.length?s.replaceWith(t.tabsHtml):e(t.tabsHtml).insertBefore(e("#content")),Craft.cp.$mainContent.addClass("has-tabs")):(s.remove(),Craft.cp.$mainContent.removeClass("has-tabs")),e("#fields").html(t.fieldsHtml),Craft.initUiElements(e("#fields")),Craft.appendHeadHtml(t.headHtml),Craft.appendFootHtml(t.bodyHtml),"undefined"!=typeof slugGenerator&&slugGenerator.setNewSource("#title"),Craft.cp.initTabs(),this.trigger("typeChange")}}),this))}})}(jQuery);
//# sourceMappingURL=EntryTypeSwitcher.min.js.map
