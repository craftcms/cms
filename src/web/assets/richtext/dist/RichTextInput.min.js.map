{"version":3,"sources":["RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","linkOptions","volumes","elementSiteId","redactorConfig","$textarea","redactor","linkOptionModals","init","settings","this","transforms","lang","redactorLang","direction","orientation","imageUpload","fileUpload","dragImageUpload","dragFileUpload","toolbarFixedTopOffset","plugins","buttons","index","inArray","splice","unshift","lowestListButtonIndex","oldListButtons","i","length","undefined","callbacks","handleRedactorInit","mergeCallbacks","initRedactor","livePreview","on","proxy","core","destroy","callback1","callback2","apply","arguments","currentInstance","onInitRedactor","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","editor","toolbarFixed","scrollPageOnReady","$doc","trigger","$imageBtn","replaceRedactorButton","get","$fileBtn","button","addCallback","remove","$linkBtn","dropdownOptions","title","optionTitle","func","link","observe","element","in","out","unlink","attr","class","aria-disabled","addDropdown","onImageButtonClick","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","sources","criteria","siteId","kind","onSelect","assets","transform","restore","asset","url","insert","node","code","sync","images","closeOtherModals","show","onFileButtonClick","assetLinkSelectionModal","text","label","onLinkOptionClick","key","elementType","elements","elementTypeHandle","replace","match","toLowerCase","onEditorFocus","box","addClass","onEditorBlur","removeClass","fullscreen","disable","cp","isOpen","$placeholder","addAfter","$btn","build","icon","parent","after","append","jQuery"],"mappings":"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","file":"RichTextInput.min.js"}