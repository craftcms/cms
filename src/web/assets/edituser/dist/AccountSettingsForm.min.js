!function(n){Craft.AccountSettingsForm=Garnish.Base.extend({userId:null,isCurrent:null,$copyPasswordResetUrlBtn:null,$actionSpinner:null,confirmDeleteModal:null,$deleteBtn:null,init:function(e,t,s){this.userId=e,this.isCurrent=t,this.setSettings(s,Craft.AccountSettingsForm.defaults),this.$copyPasswordResetUrlBtn=n("#copy-passwordreset-url"),this.$actionSpinner=n("#action-spinner"),this.$deleteBtn=n("#delete-btn"),this.addListener(this.$copyPasswordResetUrlBtn,"click","handleCopyPasswordResetUrlBtnClick"),this.addListener(this.$deleteBtn,"click","showConfirmDeleteModal")},handleCopyPasswordResetUrlBtnClick:function(){Craft.elevatedSessionManager.requireElevatedSession(n.proxy(this,"getPasswordResetUrl"))},getPasswordResetUrl:function(){this.$actionSpinner.removeClass("hidden");var e={userId:this.userId};Craft.postActionRequest("users/get-password-reset-url",e,n.proxy(function(e,t){if(this.$actionSpinner.addClass("hidden"),"success"===t){var s=Craft.t("app","{ctrl}C to copy.",{ctrl:-1!==navigator.appVersion.indexOf("Mac")?"âŒ˜":"Ctrl-"});prompt(s,e.url)}},this))},showConfirmDeleteModal:function(){this.confirmDeleteModal?this.confirmDeleteModal.show():this.confirmDeleteModal=new Craft.DeleteUserModal(this.userId,{redirect:this.settings.deleteModalRedirect})}},{defaults:{deleteModalRedirect:null}})}(jQuery);
//# sourceMappingURL=AccountSettingsForm.min.js.map