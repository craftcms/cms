!function(e){Craft.AccountSettingsForm=Garnish.Base.extend({userId:null,isCurrent:null,$copyPasswordResetUrlBtn:null,$actionSpinner:null,confirmDeleteModal:null,$deleteBtn:null,init:function(t,s,n){this.userId=t,this.isCurrent=s,this.setSettings(n,Craft.AccountSettingsForm.defaults),this.$copyPasswordResetUrlBtn=e("#copy-passwordreset-url"),this.$actionSpinner=e("#action-spinner"),this.$deleteBtn=e("#delete-btn"),this.addListener(this.$copyPasswordResetUrlBtn,"click","handleCopyPasswordResetUrlBtnClick"),this.addListener(this.$deleteBtn,"click","showConfirmDeleteModal")},handleCopyPasswordResetUrlBtnClick:function(){Craft.elevatedSessionManager.requireElevatedSession(e.proxy(this,"getPasswordResetUrl"))},getPasswordResetUrl:function(){this.$actionSpinner.removeClass("hidden");var t={userId:this.userId};Craft.postActionRequest("users/get-password-reset-url",t,e.proxy(function(e,t){if(this.$actionSpinner.addClass("hidden"),"success"===t){var s=Craft.t("app","{ctrl}C to copy.",{ctrl:-1!==navigator.appVersion.indexOf("Mac")?"âŒ˜":"Ctrl-"});prompt(s,e.url)}},this))},showConfirmDeleteModal:function(){this.confirmDeleteModal?this.confirmDeleteModal.show():this.confirmDeleteModal=new Craft.DeleteUserModal(this.userId,{redirect:this.settings.deleteModalRedirect})}},{defaults:{deleteModalRedirect:null}})}(jQuery);
//# sourceMappingURL=AccountSettingsForm.min.js.map