{% apply spaceless %}
  {% set uiAttributes = null %}
  {% if viewMode == 'cards' and attributes is not empty %}
    {% set uiAttributes = attributes %}
  {% endif %}
  {% for element in elements %}
    {% tag 'li' with {
      class: (element.isProvisionalDraft ? element.getCanonicalId() : element.id) in disabledElementIds ? 'disabled' : null,
      data: {
        id: element.id,
      },
    } %}
      {{ elementCard(element, {
        context: context ?? 'index',
        selectable: selectable,
        sortable: sortable,
      }, uiAttributes) }}
    {% endtag %}
  {% endfor %}
{% endapply -%}
